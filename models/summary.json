{
  "models": {
    "catboost": {
      "best_params": {
        "depth": 6,
        "learning_rate": 0.04667182286424757,
        "l2_leaf_reg": 4.701407803239238,
        "bagging_temperature": 0.4477020460275112,
        "border_count": 109,
        "random_strength": 0.2036742501591838,
        "rsm": 0.6809696876100045,
        "min_data_in_leaf": 25,
        "max_ctr_complexity": 2
      },
      "best_primary_value": -0.12453275882080458,
      "metrics_test": {
        "r2": 0.8324948301068971,
        "mse": 105.35617279986839,
        "rmse": 10.264315505666628,
        "mae": 7.434716647539312,
        "mape": 0.12134813593264858,
        "explained_variance": 0.8333166270821252,
        "medae": 5.4566541834073945
      },
      "metrics_train": {
        "r2": 0.9547992836785043,
        "mse": 26.939001007330575,
        "rmse": 5.1902794729504285,
        "mae": 3.88367219511251,
        "mape": 0.06258540500955026,
        "explained_variance": 0.9548135305091174,
        "medae": 2.9028466348280837
      },
      "metrics_test_original": {
        "r2": 0.7429382080857864,
        "mse": 1292881332.3830159,
        "rmse": 35956.65908260966,
        "mae": 20032.55318663068,
        "mape": 0.583756966245367,
        "explained_variance": 0.743649053019402,
        "medae": 9813.825435502396,
        "mape_floor": 0.5819366405053731
      },
      "metrics_train_original": {
        "r2": 0.9203675834538663,
        "mse": 285380685.3486577,
        "rmse": 16893.21418051218,
        "mae": 9900.909576580005,
        "mape": 0.22444977619552467,
        "explained_variance": 0.9213185461889615,
        "medae": 5167.17962305648,
        "mape_floor": 0.21799723662622955
      },
      "smearing_factor": null,
      "overfit": {
        "gap_r2": 0.12230445357160724,
        "gap_explained_variance": 0.12149690342699226,
        "ratio_rmse": 1.9776036260012508,
        "delta_rmse": 5.0740360327162,
        "ratio_mse": 3.9109161015732963,
        "delta_mse": 78.41717179253781,
        "ratio_mae": 1.9143522609595345,
        "delta_mae": 3.551044452426802,
        "ratio_mape": 1.938920678297622,
        "delta_mape": 0.05876273092309832,
        "ratio_medae": 1.8797597220393822,
        "delta_medae": 2.553807548579311
      }
    },
    "xgboost": {
      "best_params": {
        "n_estimators": 911,
        "max_depth": 5,
        "learning_rate": 0.030540219414709177,
        "subsample": 0.7958067628709456,
        "colsample_bytree": 0.8150216555493145,
        "min_child_weight": 6.505562773908768,
        "reg_alpha": 2.507588970698255,
        "reg_lambda": 1.0170509664519252,
        "gamma": 4.967814343301184
      },
      "best_primary_value": -0.12276800828500141,
      "metrics_test": {
        "r2": 0.8285942407267382,
        "mse": 107.80953689018041,
        "rmse": 10.383137141065816,
        "mae": 7.621680792614015,
        "mape": 0.12037678716541556,
        "explained_variance": 0.8286132921090824,
        "medae": 5.415730930622118
      },
      "metrics_train": {
        "r2": 0.9888583130417893,
        "mse": 6.640291141754805,
        "rmse": 2.576876237182299,
        "mae": 1.9015974066205379,
        "mape": 0.030816167977945067,
        "explained_variance": 0.9888583224930133,
        "medae": 1.421038971467052
      },
      "metrics_test_original": {
        "r2": 0.7797619485970992,
        "mse": 1107677898.060577,
        "rmse": 33281.79529503445,
        "mae": 20525.74424591729,
        "mape": 0.5674886457840875,
        "explained_variance": 0.7804322969125852,
        "medae": 10248.921875,
        "mape_floor": 0.5672438072618243
      },
      "metrics_train_original": {
        "r2": 0.9838467753674662,
        "mse": 57888715.62817224,
        "rmse": 7608.463420965645,
        "mae": 4650.6270047856015,
        "mape": 0.10374835876736392,
        "explained_variance": 0.9840623631430779,
        "medae": 2398.823196765996,
        "mape_floor": 0.10209753433166507
      },
      "smearing_factor": null,
      "overfit": {
        "gap_r2": 0.16026407231505113,
        "gap_explained_variance": 0.1602450303839309,
        "ratio_rmse": 4.02935033947122,
        "delta_rmse": 7.806260903883517,
        "ratio_mse": 16.235664158196833,
        "delta_mse": 101.16924574842561,
        "ratio_mae": 4.008041221595395,
        "delta_mae": 5.720083385993477,
        "ratio_mape": 3.9062867015642064,
        "delta_mape": 0.08956061918747049,
        "ratio_medae": 3.8111065490561646,
        "delta_medae": 3.994691959155066
      }
    },
    "lightgbm": {
      "best_params": {
        "n_estimators": 475,
        "max_depth": 5,
        "learning_rate": 0.03232819863748639,
        "num_leaves": 35,
        "subsample": 0.6551201129059637,
        "colsample_bytree": 0.6907525138595558,
        "reg_alpha": 0.6819420479337013,
        "reg_lambda": 1.9430063683854903,
        "min_child_samples": 50,
        "min_split_gain": 0.4808433653736929
      },
      "best_primary_value": -0.12620381356359042,
      "metrics_test": {
        "r2": 0.8141718620460126,
        "mse": 116.88081881802394,
        "rmse": 10.811143270627023,
        "mae": 7.838768037258968,
        "mape": 0.12802435137137197,
        "explained_variance": 0.817485686328559,
        "medae": 6.132272605141878
      },
      "metrics_train": {
        "r2": 0.9531547138298715,
        "mse": 27.919141863812452,
        "rmse": 5.283856722490917,
        "mae": 3.8478153386562473,
        "mape": 0.06256410957582738,
        "explained_variance": 0.9531547139517732,
        "medae": 2.7983001132921785
      },
      "metrics_test_original": {
        "r2": 0.7222591631416098,
        "mse": 1396885708.06541,
        "rmse": 37374.934221552954,
        "mae": 21707.580652576067,
        "mape": 0.6733448875050653,
        "explained_variance": 0.7226143051471574,
        "medae": 10506.073493458207,
        "mape_floor": 0.6724883688542319
      },
      "metrics_train_original": {
        "r2": 0.904648321149241,
        "mse": 341714199.3149255,
        "rmse": 18485.513228334385,
        "mae": 9889.492802318533,
        "mape": 0.23044919659235694,
        "explained_variance": 0.9058256024739545,
        "medae": 4966.799282125562,
        "mape_floor": 0.22254850422825329
      },
      "smearing_factor": null,
      "overfit": {
        "gap_r2": 0.13898285178385894,
        "gap_explained_variance": 0.1356690276232142,
        "ratio_rmse": 2.0460704819282896,
        "delta_rmse": 5.5272865481361055,
        "ratio_mse": 4.186404417018263,
        "delta_mse": 88.96167695421148,
        "ratio_mae": 2.0371996437844806,
        "delta_mae": 3.990952698602721,
        "ratio_mape": 2.046290632750189,
        "delta_mape": 0.06546024179554459,
        "ratio_medae": 2.191427780034396,
        "delta_medae": 3.3339724918497
      }
    },
    "gbr": {
      "best_params": {
        "learning_rate": 0.01983566604922096,
        "n_estimators": 893,
        "max_depth": 6,
        "subsample": 0.8378955822161887,
        "min_samples_leaf": 29,
        "max_features": null,
        "min_samples_split": 32,
        "min_impurity_decrease": 0.0016896194709669693
      },
      "best_primary_value": -0.12154114568862588,
      "metrics_test": {
        "r2": 0.823515073715106,
        "mse": 111.00419409209486,
        "rmse": 10.535852793774923,
        "mae": 7.764452501861603,
        "mape": 0.12621463810635938,
        "explained_variance": 0.8237355224157559,
        "medae": 5.739162565800015
      },
      "metrics_train": {
        "r2": 0.9742965269342728,
        "mse": 15.318914016418567,
        "rmse": 3.913938427775604,
        "mae": 2.861669128288535,
        "mape": 0.046424984744687724,
        "explained_variance": 0.9742965376653533,
        "medae": 2.106421666675697
      },
      "metrics_test_original": {
        "r2": 0.7625246917646051,
        "mse": 1194371947.0449564,
        "rmse": 34559.6867324482,
        "mae": 20907.636902097347,
        "mape": 0.6349980598148226,
        "explained_variance": 0.7625984360194555,
        "medae": 10394.538205994395,
        "mape_floor": 0.634649596023066
      },
      "metrics_train_original": {
        "r2": 0.953855201135633,
        "mse": 165370271.2583116,
        "rmse": 12859.637291086852,
        "mae": 7219.051594434775,
        "mape": 0.162772216241542,
        "explained_variance": 0.9544544298436132,
        "medae": 3714.350292473142,
        "mape_floor": 0.15824142251355383
      },
      "smearing_factor": null,
      "overfit": {
        "gap_r2": 0.1507814532191668,
        "gap_explained_variance": 0.15056101524959742,
        "ratio_rmse": 2.6918800559064313,
        "delta_rmse": 6.621914365999319,
        "ratio_mse": 7.246218235386813,
        "delta_mse": 95.6852800756763,
        "ratio_mae": 2.7132600429265046,
        "delta_mae": 4.902783373573069,
        "ratio_mape": 2.718679150902721,
        "delta_mape": 0.07978965336167165,
        "ratio_medae": 2.7246028924766144,
        "delta_medae": 3.632740899124318
      }
    },
    "hgbt": {
      "best_params": {
        "learning_rate": 0.14766397597953432,
        "max_depth": 7,
        "max_leaf_nodes": 54,
        "l2_regularization": 0.48212847629572847,
        "max_bins": 159,
        "min_samples_leaf": 26
      },
      "best_primary_value": -0.12039450034505947,
      "metrics_test": {
        "r2": 0.8249482332036843,
        "mse": 110.10277595183818,
        "rmse": 10.492986989024535,
        "mae": 7.692175681898153,
        "mape": 0.12422369351804742,
        "explained_variance": 0.825209870408996,
        "medae": 5.958933508336983
      },
      "metrics_train": {
        "r2": 0.9765777621264392,
        "mse": 13.959329431461338,
        "rmse": 3.736218600598918,
        "mae": 2.7483921107292058,
        "mape": 0.044410189393948224,
        "explained_variance": 0.9765777622549701,
        "medae": 2.013190735708285
      },
      "metrics_test_original": {
        "r2": 0.7550189225937003,
        "mse": 1232121893.3671126,
        "rmse": 35101.59388641935,
        "mae": 20851.195309453848,
        "mape": 0.6192577314968415,
        "explained_variance": 0.7550917481850247,
        "medae": 10266.797629010543,
        "mape_floor": 0.6183309667396373
      },
      "metrics_train_original": {
        "r2": 0.9557812037373569,
        "mse": 158468007.50313824,
        "rmse": 12588.40766352672,
        "mae": 6964.585913656495,
        "mape": 0.15381235876413069,
        "explained_variance": 0.9563105013937021,
        "medae": 3453.8224342916255,
        "mape_floor": 0.15008995868828376
      },
      "smearing_factor": null,
      "overfit": {
        "gap_r2": 0.15162952892275494,
        "gap_explained_variance": 0.1513678918459741,
        "ratio_rmse": 2.8084510331762984,
        "delta_rmse": 6.756768388425617,
        "ratio_mse": 7.887397205749018,
        "delta_mse": 96.14344652037684,
        "ratio_mae": 2.798791210275035,
        "delta_mae": 4.943783571168947,
        "ratio_mape": 2.7971890057954893,
        "delta_mape": 0.0798135041240992,
        "ratio_medae": 2.959944829192003,
        "delta_medae": 3.945742772628698
      }
    },
    "rf": {
      "best_params": {
        "n_estimators": 802,
        "max_depth": 23,
        "min_samples_split": 12,
        "min_samples_leaf": 5,
        "max_features": null,
        "bootstrap": true
      },
      "best_primary_value": -0.12862682303136547,
      "metrics_test": {
        "r2": 0.840906819419949,
        "mse": 100.06526147920802,
        "rmse": 10.003262541751466,
        "mae": 7.465455854274725,
        "mape": 0.11928915142283468,
        "explained_variance": 0.841322372489264,
        "medae": 5.8109734289587465
      },
      "metrics_train": {
        "r2": 0.9517187089117985,
        "mse": 28.77498090979907,
        "rmse": 5.364231623429312,
        "mae": 3.643886050601327,
        "mape": 0.061316000881199866,
        "explained_variance": 0.9517187158831795,
        "medae": 2.532345967699193
      },
      "metrics_test_original": {
        "r2": 0.7326423328098025,
        "mse": 1344663998.5106435,
        "rmse": 36669.660463530934,
        "mae": 20336.770517302193,
        "mape": 0.5599863209935446,
        "explained_variance": 0.7378469544418796,
        "medae": 9810.441726914523,
        "mape_floor": 0.55678734601611
      },
      "metrics_train_original": {
        "r2": 0.886446333644838,
        "mse": 406945117.7525804,
        "rmse": 20172.88074997174,
        "mae": 9396.873311301782,
        "mape": 0.2593595061392705,
        "explained_variance": 0.8882375449734414,
        "medae": 4451.927086816886,
        "mape_floor": 0.2365928385409782
      },
      "smearing_factor": null,
      "overfit": {
        "gap_r2": 0.1108118894918495,
        "gap_explained_variance": 0.11039634339391546,
        "ratio_rmse": 1.8648080925626507,
        "delta_rmse": 4.639030918322154,
        "ratio_mse": 3.477509222087152,
        "delta_mse": 71.29028056940895,
        "ratio_mae": 2.048762159574872,
        "delta_mae": 3.8215698036733983,
        "ratio_mape": 1.9454815987421972,
        "delta_mape": 0.057973150541634814,
        "ratio_medae": 2.2946996591616617,
        "delta_medae": 3.2786274612595534
      }
    }
  },
  "ensembles": {
    "voting": {
      "type": "voting",
      "members": [
        "hgbt",
        "gbr",
        "xgboost",
        "catboost",
        "lightgbm"
      ],
      "profile": "tree",
      "metrics_train": {
        "r2": 0.9789201266223642,
        "mse": 12.563312627956668,
        "rmse": 3.5444763545489577,
        "mae": 2.6125412543917177,
        "mape": 0.042116905080131925,
        "explained_variance": 0.9789201278965447,
        "medae": 1.9247307028374294
      },
      "metrics_test": {
        "r2": 0.8266600711125269,
        "mse": 109.026076703424,
        "rmse": 10.441555281825787,
        "mae": 7.649490299479834,
        "mape": 0.12377221340155131,
        "explained_variance": 0.82700430823895,
        "medae": 5.502957142286888
      },
      "metrics_train_original": {
        "r2": 0.9627844226074209,
        "mse": 133370396.66236104,
        "rmse": 11548.610161502596,
        "mae": 6608.604905833149,
        "mape": 0.1455756728910773,
        "explained_variance": 0.9633322121962918,
        "medae": 3397.288774909208
      },
      "metrics_test_original": {
        "r2": 0.7630908794419267,
        "mse": 1191524330.2397385,
        "rmse": 34518.46361354657,
        "mae": 20663.103151774932,
        "mape": 0.6110490160060981,
        "explained_variance": 0.7632256991787388,
        "medae": 10684.097275924658,
        "mape_floor": 0.6098520663496121
      },
      "overfit": {
        "gap_r2": 0.15226005550983723,
        "gap_explained_variance": 0.1519158196575947,
        "ratio_rmse": 2.9458668185006123,
        "delta_rmse": 6.897078927276829,
        "ratio_mse": 8.678131312342922,
        "delta_mse": 96.46276407546733,
        "ratio_mae": 2.9279883280774746,
        "delta_mae": 5.036949045088116,
        "ratio_mape": 2.938777509080057,
        "delta_mape": 0.08165530832141939,
        "ratio_medae": 2.859079004753472,
        "delta_medae": 3.578226439449459
      }
    },
    "stacking": {
      "type": "stacking",
      "members": [
        "hgbt",
        "gbr",
        "xgboost",
        "catboost",
        "lightgbm",
        "rf"
      ],
      "final_estimator": "ridge",
      "profile": "tree",
      "metrics_train": {
        "r2": 0.9841142927549937,
        "mse": 9.467661539511267,
        "rmse": 3.0769565384501725,
        "mae": 2.3067507905033713,
        "mape": 0.03698884231756408,
        "explained_variance": 0.9841840899302804,
        "medae": 1.7290024919887337
      },
      "metrics_test": {
        "r2": 0.8247638782860153,
        "mse": 110.21873015537012,
        "rmse": 10.49851085418166,
        "mae": 7.622779285708038,
        "mape": 0.12325353591745404,
        "explained_variance": 0.8248757593070226,
        "medae": 5.187849934558571
      },
      "metrics_train_original": {
        "r2": 0.9747296539024418,
        "mse": 90561972.13531701,
        "rmse": 9516.405420920077,
        "mae": 5760.904318479077,
        "mape": 0.1244413825830291,
        "explained_variance": 0.9754157193907159,
        "medae": 2923.162883072081
      },
      "metrics_test_original": {
        "r2": 0.7651532537281454,
        "mse": 1181151706.6180658,
        "rmse": 34367.88772412506,
        "mae": 20417.0045346353,
        "mape": 0.5961746757834716,
        "explained_variance": 0.7657028266831543,
        "medae": 10026.001312184468,
        "mape_floor": 0.5949360562233329
      },
      "overfit": {
        "gap_r2": 0.15935041446897846,
        "gap_explained_variance": 0.15930833062325778,
        "ratio_rmse": 3.4119789223508628,
        "delta_rmse": 7.421554315731488,
        "ratio_mse": 11.641600166566553,
        "delta_mse": 100.75106861585886,
        "ratio_mae": 3.3045525841326886,
        "delta_mae": 5.316028495204667,
        "ratio_mape": 3.332181495686534,
        "delta_mape": 0.08626469359988996,
        "ratio_medae": 3.000487251230853,
        "delta_medae": 3.4588474425698372
      }
    }
  },
  "baselines": {
    "catboost": {
      "metrics_test": {
        "r2": 0.813110999088708,
        "mse": 117.54807261752205,
        "rmse": 10.841958892078592,
        "mae": 7.656813329296978,
        "mape": 0.1164931524078293,
        "explained_variance": 0.8188517588961076,
        "medae": 5.618103946000829
      }
    },
    "xgboost": {
      "metrics_test": {
        "r2": 0.7989975258192035,
        "mse": 126.42506148620696,
        "rmse": 11.243889962384324,
        "mae": 8.37887841465405,
        "mape": 0.13759378451787774,
        "explained_variance": 0.7999199791662861,
        "medae": 6.166536520826483
      }
    },
    "lightgbm": {
      "metrics_test": {
        "r2": 0.8195836885838279,
        "mse": 113.47692786800215,
        "rmse": 10.652554992488993,
        "mae": 7.83325289467093,
        "mape": 0.12747631170033566,
        "explained_variance": 0.8199206253904996,
        "medae": 5.614510770107316
      }
    },
    "gbr": {
      "metrics_test": {
        "r2": 0.8152265524440705,
        "mse": 116.2174473895536,
        "rmse": 10.780419629567005,
        "mae": 7.969701600883943,
        "mape": 0.129610619005116,
        "explained_variance": 0.8173537249534812,
        "medae": 5.9705745076757495
      }
    },
    "hgbt": {
      "metrics_test": {
        "r2": 0.8114272894132426,
        "mse": 118.60707997607915,
        "rmse": 10.890687764144152,
        "mae": 7.91226712223701,
        "mape": 0.1291354920425353,
        "explained_variance": 0.8122823852031524,
        "medae": 5.634247886691014
      }
    },
    "rf": {
      "metrics_test": {
        "r2": 0.8388170180508167,
        "mse": 101.37968941181589,
        "rmse": 10.068748155148976,
        "mae": 7.507863114625792,
        "mape": 0.1197324469092831,
        "explained_variance": 0.8390576858442363,
        "medae": 5.763713574595762
      }
    }
  },
  "df_validation_results_path": "models\\validation_results.csv"
}