{
  "models": {
    "rf": {
      "best_params": {
        "n_estimators": 1038,
        "max_depth": 18,
        "min_samples_split": 5,
        "min_samples_leaf": 5,
        "max_features": null,
        "bootstrap": true
      },
      "best_primary_value": -8.006628720171674,
      "metrics_test": {
        "r2": 0.9440097601641032,
        "mse": 21.585630836435715,
        "rmse": 4.646033882402895,
        "mae": 3.018686186096229,
        "mape": 0.05774836056549998,
        "explained_variance": 0.9443868251320412,
        "medae": 2.009504061154569
      },
      "metrics_train": {
        "r2": 0.9552452487730535,
        "mse": 14.817958389846408,
        "rmse": 3.8494101353124752,
        "mae": 2.5648646824376566,
        "mape": 0.051191205620767476,
        "explained_variance": 0.955245249157443,
        "medae": 1.7622052441232583
      },
      "metrics_test_original": {
        "r2": 0.7965784176508018,
        "mse": 1558027202.3520226,
        "rmse": 39471.85329259348,
        "mae": 13610.60588894935,
        "mape": 0.2529369592025464,
        "explained_variance": 0.8014758775866897,
        "medae": 4846.377886125423,
        "mape_floor": 0.2390378471541501
      },
      "metrics_train_original": {
        "r2": 0.8737961641573102,
        "mse": 526773160.7895472,
        "rmse": 22951.53939912413,
        "mae": 9528.556512510895,
        "mape": 0.223738494887901,
        "explained_variance": 0.875675393090088,
        "medae": 4028.912384909916,
        "mape_floor": 0.2143029096166449
      },
      "smearing_factor": null,
      "overfit": {
        "gap_r2": 0.011235488608950295,
        "gap_explained_variance": 0.010858424025401825,
        "ratio_rmse": 1.2069469656617282,
        "delta_rmse": 0.7966237470904196,
        "ratio_mse": 1.4567209779200532,
        "delta_mse": 6.767672446589307,
        "ratio_mae": 1.1769377958868608,
        "delta_mae": 0.4538215036585722,
        "ratio_mape": 1.1280914341675978,
        "delta_mape": 0.006557154944732503,
        "ratio_medae": 1.140334854782678,
        "delta_medae": 0.24729881703131085
      }
    },
    "gbr": {
      "best_params": {
        "learning_rate": 0.016196771296296705,
        "n_estimators": 1011,
        "max_depth": 6,
        "subsample": 0.7476216635835371,
        "min_samples_leaf": 9,
        "max_features": null,
        "min_samples_split": 20,
        "min_impurity_decrease": 0.008122285144861357
      },
      "best_primary_value": -7.745779576438431,
      "metrics_test": {
        "r2": 0.9656878942976596,
        "mse": 13.228170643352614,
        "rmse": 3.6370552158789966,
        "mae": 2.634184749712546,
        "mape": 0.05009120308110199,
        "explained_variance": 0.9656890620192216,
        "medae": 1.9511343268825883
      },
      "metrics_train": {
        "r2": 0.9694590535463133,
        "mse": 10.111875528977931,
        "rmse": 3.17991753493356,
        "mae": 2.3204358881250458,
        "mape": 0.04592429272859087,
        "explained_variance": 0.969459053565428,
        "medae": 1.7184594203838017
      },
      "metrics_test_original": {
        "r2": 0.9390253560084785,
        "mse": 467011183.8449936,
        "rmse": 21610.44154673832,
        "mae": 10899.047660520158,
        "mape": 0.1986800063990963,
        "explained_variance": 0.9401562784001883,
        "medae": 4823.282135042681,
        "mape_floor": 0.19454200609784758
      },
      "metrics_train_original": {
        "r2": 0.9469269578255974,
        "mse": 221526184.14685327,
        "rmse": 14883.755713758987,
        "mae": 8103.684098061573,
        "mape": 0.17606535791841801,
        "explained_variance": 0.9477284371937758,
        "medae": 3980.218331223572,
        "mape_floor": 0.17284549804302562
      },
      "smearing_factor": null,
      "overfit": {
        "gap_r2": 0.003771159248653788,
        "gap_explained_variance": 0.003769991546206497,
        "ratio_rmse": 1.1437577157028342,
        "delta_rmse": 0.4571376809454364,
        "ratio_mse": 1.3081817122297654,
        "delta_mse": 3.116295114374683,
        "ratio_mae": 1.135211174414741,
        "delta_mae": 0.31374886158750037,
        "ratio_mape": 1.0907343391685365,
        "delta_mape": 0.00416691035251112,
        "ratio_medae": 1.135397381945057,
        "delta_medae": 0.23267490649878653
      }
    },
    "hgbt": {
      "best_params": {
        "learning_rate": 0.11077296138068414,
        "max_depth": 10,
        "max_leaf_nodes": 153,
        "l2_regularization": 0.00035000322621901156,
        "max_bins": 151,
        "min_samples_leaf": 45
      },
      "best_primary_value": -7.857160941469161,
      "metrics_test": {
        "r2": 0.9584004747671971,
        "mse": 16.037652227925893,
        "rmse": 4.004703762817656,
        "mae": 2.7858722076451543,
        "mape": 0.053234372056298565,
        "explained_variance": 0.9584202227533989,
        "medae": 2.017087163290272
      },
      "metrics_train": {
        "r2": 0.9643775950089246,
        "mse": 11.794307876438298,
        "rmse": 3.4342841869068286,
        "mae": 2.450365868206331,
        "mape": 0.048731566772200155,
        "explained_variance": 0.9643775950089246,
        "medae": 1.7838696892354307
      },
      "metrics_test_original": {
        "r2": 0.8758329207750248,
        "mse": 951008663.0681083,
        "rmse": 30838.428349513993,
        "mae": 12258.57463927615,
        "mape": 0.21834745534170752,
        "explained_variance": 0.877919299215591,
        "medae": 4822.71603458951,
        "mape_floor": 0.20830484613974753
      },
      "metrics_train_original": {
        "r2": 0.9154435584115254,
        "mse": 352937481.6800193,
        "rmse": 18786.630397173925,
        "mae": 8841.962808784734,
        "mape": 0.19405084320111346,
        "explained_variance": 0.9164501298465787,
        "medae": 4128.2009281227365,
        "mape_floor": 0.18787325850286596
      },
      "smearing_factor": null,
      "overfit": {
        "gap_r2": 0.005977120241727474,
        "gap_explained_variance": 0.005957372255525728,
        "ratio_rmse": 1.1660956242600848,
        "delta_rmse": 0.5704195759108277,
        "ratio_mse": 1.3597790049185168,
        "delta_mse": 4.243344351487595,
        "ratio_mae": 1.1369209160934053,
        "delta_mae": 0.33550633943882335,
        "ratio_mape": 1.0924001747193386,
        "delta_mape": 0.00450280528409841,
        "ratio_medae": 1.1307368332239554,
        "delta_medae": 0.2332174740548414
      }
    },
    "xgboost": {
      "best_params": {
        "n_estimators": 780,
        "max_depth": 6,
        "learning_rate": 0.019754938777716783,
        "subsample": 0.6549342177518876,
        "colsample_bytree": 0.7025528674433197,
        "min_child_weight": 2.1843668146013107,
        "reg_alpha": 0.00867500737497376,
        "reg_lambda": 0.002125510769927783,
        "gamma": 0.16719062878003244
      },
      "best_primary_value": -7.624691978036051,
      "metrics_test": {
        "r2": 0.9700780803496301,
        "mse": 11.535644665631253,
        "rmse": 3.3964164446709493,
        "mae": 2.5283977483986213,
        "mape": 0.04808938927899275,
        "explained_variance": 0.9700806923449563,
        "medae": 1.9432874141896015
      },
      "metrics_train": {
        "r2": 0.9733237173388835,
        "mse": 8.83231468461846,
        "rmse": 2.971921042796807,
        "mae": 2.2223082275163004,
        "mape": 0.04394251971552128,
        "explained_variance": 0.9733237483946591,
        "medae": 1.7101269350828332
      },
      "metrics_test_original": {
        "r2": 0.9499776064230373,
        "mse": 383126750.95546067,
        "rmse": 19573.62385853628,
        "mae": 10173.420839026981,
        "mape": 0.18408919507990792,
        "explained_variance": 0.9508568333527228,
        "medae": 4538.483181086907,
        "mape_floor": 0.18141601188108017
      },
      "metrics_train_original": {
        "r2": 0.9553971369047551,
        "mse": 186171767.4115094,
        "rmse": 13644.477542636412,
        "mae": 7673.998745704799,
        "mape": 0.16520285028890327,
        "explained_variance": 0.9560761118890455,
        "medae": 3963.753906249978,
        "mape_floor": 0.16276632824845882
      },
      "smearing_factor": null,
      "overfit": {
        "gap_r2": 0.0032456369892533976,
        "gap_explained_variance": 0.003243056049702764,
        "ratio_rmse": 1.1428353565795475,
        "delta_rmse": 0.42449540187414225,
        "ratio_mse": 1.3060726522483015,
        "delta_mse": 2.703329981012793,
        "ratio_mae": 1.1377349537262045,
        "delta_mae": 0.3060895208823209,
        "ratio_mape": 1.0943703180954987,
        "delta_mape": 0.004146869563471468,
        "ratio_medae": 1.1363410366350815,
        "delta_medae": 0.2331604791067683
      }
    },
    "lightgbm": {
      "best_params": {
        "n_estimators": 330,
        "max_depth": -1,
        "learning_rate": 0.030205486157832993,
        "num_leaves": 42,
        "subsample": 0.8259769722170698,
        "colsample_bytree": 0.6423178568659738,
        "reg_alpha": 2.81915756404231,
        "reg_lambda": 0.8816756951404153,
        "min_child_samples": 26,
        "min_split_gain": 0.20594242562279652
      },
      "best_primary_value": -7.827004919391969,
      "metrics_test": {
        "r2": 0.9602185760470291,
        "mse": 15.336728939068257,
        "rmse": 3.916213597222227,
        "mae": 2.83246945569863,
        "mape": 0.05487915410159088,
        "explained_variance": 0.9602271690271155,
        "medae": 2.088857823994026
      },
      "metrics_train": {
        "r2": 0.9652834464643225,
        "mse": 11.494387336037962,
        "rmse": 3.3903373484120958,
        "mae": 2.4671908217488054,
        "mape": 0.04961736393036939,
        "explained_variance": 0.9652834482079236,
        "medae": 1.8276858433441063
      },
      "metrics_test_original": {
        "r2": 0.9023873343749828,
        "mse": 747625628.419307,
        "rmse": 27342.74361543309,
        "mae": 11873.83737096204,
        "mape": 0.22197876570410016,
        "explained_variance": 0.9039544775391575,
        "medae": 5109.566857988253,
        "mape_floor": 0.21396726785868925
      },
      "metrics_train_original": {
        "r2": 0.9281714000763287,
        "mse": 299811636.97784567,
        "rmse": 17315.069649812143,
        "mae": 8650.549795667068,
        "mape": 0.1936805305116329,
        "explained_variance": 0.929169897252227,
        "medae": 4212.928523756142,
        "mape_floor": 0.1887932581429034
      },
      "smearing_factor": null,
      "overfit": {
        "gap_r2": 0.005064870417293421,
        "gap_explained_variance": 0.005056279180808088,
        "ratio_rmse": 1.1551103016507875,
        "delta_rmse": 0.5258762488101314,
        "ratio_mse": 1.3342798089797734,
        "delta_mse": 3.8423416030302953,
        "ratio_mae": 1.1480544718024308,
        "delta_mae": 0.3652786339498246,
        "ratio_mape": 1.1060473542811673,
        "delta_mape": 0.005261790171221491,
        "ratio_medae": 1.1428976328733031,
        "delta_medae": 0.26117198064991953
      }
    },
    "catboost": {
      "best_params": {
        "depth": 8,
        "learning_rate": 0.11777517005248574,
        "l2_leaf_reg": 12.105092687525701,
        "bagging_temperature": 2.224772940612721,
        "border_count": 141,
        "random_strength": 0.9399876754097464,
        "rsm": 0.679195142395271
      },
      "best_primary_value": -7.788264088184183,
      "metrics_test": {
        "r2": 0.9622327819579439,
        "mse": 14.560202434645285,
        "rmse": 3.815783331721717,
        "mae": 2.758824177897406,
        "mape": 0.05227039076605204,
        "explained_variance": 0.9622348445652092,
        "medae": 1.9580154036299326
      },
      "metrics_train": {
        "r2": 0.9659985815718435,
        "mse": 11.257611530657478,
        "rmse": 3.355236434389904,
        "mae": 2.462658533236031,
        "mape": 0.048476247753451135,
        "explained_variance": 0.9660038754278185,
        "medae": 1.8432176536946798
      },
      "metrics_test_original": {
        "r2": 0.9171174390676048,
        "mse": 634806213.9817475,
        "rmse": 25195.360961529157,
        "mae": 11703.862408115185,
        "mape": 0.2093738824383985,
        "explained_variance": 0.9183093782291012,
        "medae": 5127.541585617444,
        "mape_floor": 0.20470175157843495
      },
      "metrics_train_original": {
        "r2": 0.9340187766787672,
        "mse": 275404763.48920757,
        "rmse": 16595.32354276974,
        "mae": 8759.362821620827,
        "mape": 0.18830740928155007,
        "explained_variance": 0.9346737227918283,
        "medae": 4271.801435253481,
        "mape_floor": 0.18485025017032472
      },
      "smearing_factor": null,
      "overfit": {
        "gap_r2": 0.0037657996138995564,
        "gap_explained_variance": 0.0037690308626092683,
        "ratio_rmse": 1.1372621293126712,
        "delta_rmse": 0.46054689733181275,
        "ratio_mse": 1.2933651507687907,
        "delta_mse": 3.3025909039878076,
        "ratio_mae": 1.1202625701713511,
        "delta_mae": 0.29616564466137474,
        "ratio_mape": 1.0782680836169047,
        "delta_mape": 0.0037941430126009063,
        "ratio_medae": 1.0622811688598706,
        "delta_medae": 0.11479774993525282
      }
    }
  },
  "ensembles": {
    "voting": {
      "type": "voting",
      "members": [
        "xgboost",
        "gbr",
        "catboost"
      ],
      "metrics_train": {
        "r2": 0.9743349577592252,
        "mse": 8.497500657951894,
        "rmse": 2.915047282284096,
        "mae": 2.152808927484174,
        "mape": 0.04254817307731312,
        "explained_variance": 0.9743349588388326,
        "medae": 1.6222844387257283
      },
      "metrics_test": {
        "r2": 0.9711309259415521,
        "mse": 11.129746488706001,
        "rmse": 3.3361274688935376,
        "mae": 2.44365999192577,
        "mape": 0.04619500516349962,
        "explained_variance": 0.971136557940171,
        "medae": 1.8426656834735056
      },
      "metrics_train_original": {
        "r2": 0.9559389056893216,
        "mse": 183910431.58793798,
        "rmse": 13561.358028897326,
        "mae": 7471.339123945397,
        "mape": 0.16062725752388934,
        "explained_variance": 0.9566395965838487,
        "medae": 3779.446855463895
      },
      "metrics_test_original": {
        "r2": 0.9489659176317979,
        "mse": 390875381.35574836,
        "rmse": 19770.568564301542,
        "mae": 10046.211187963394,
        "mape": 0.17820347702313102,
        "explained_variance": 0.9499673551437489,
        "medae": 4532.400783732221,
        "mape_floor": 0.17533496610830998
      },
      "overfit": {
        "gap_r2": 0.0032040318176730365,
        "gap_explained_variance": 0.0031984008986616352,
        "ratio_rmse": 1.1444505511689342,
        "delta_rmse": 0.4210801866094416,
        "ratio_mse": 1.3097670640708774,
        "delta_mse": 2.6322458307541066,
        "ratio_mae": 1.1351030557001136,
        "delta_mae": 0.29085106444159603,
        "ratio_mape": 1.0857106621137396,
        "delta_mape": 0.003646832086186498,
        "ratio_medae": 1.1358462421798747,
        "delta_medae": 0.22038124474777732
      }
    },
    "stacking": {
      "type": "stacking",
      "members": [
        "xgboost",
        "gbr",
        "catboost",
        "lightgbm",
        "hgbt"
      ],
      "final_estimator": "ridge",
      "metrics_train": {
        "r2": 0.9748210984115688,
        "mse": 8.336543178342376,
        "rmse": 2.8873072538859414,
        "mae": 2.1301323031995927,
        "mape": 0.04192600606181921,
        "explained_variance": 0.9750961926041423,
        "medae": 1.5769729403252768
      },
      "metrics_test": {
        "r2": 0.9716150146553302,
        "mse": 10.943118242455864,
        "rmse": 3.3080384282011996,
        "mae": 2.416232464762627,
        "mape": 0.04557322756553846,
        "explained_variance": 0.9719036302311842,
        "medae": 1.7815276081466358
      },
      "metrics_train_original": {
        "r2": 0.9560184859321952,
        "mse": 183578264.69463435,
        "rmse": 13549.10567877579,
        "mae": 7405.747583192116,
        "mape": 0.155760602525051,
        "explained_variance": 0.9575563632950229,
        "medae": 3601.5536507741344
      },
      "metrics_test_original": {
        "r2": 0.9496825331028945,
        "mse": 385386748.4157184,
        "rmse": 19631.269658779547,
        "mae": 9934.48809051005,
        "mape": 0.17378381043910607,
        "explained_variance": 0.9513547496849518,
        "medae": 4341.491276288403,
        "mape_floor": 0.17094014720837217
      },
      "overfit": {
        "gap_r2": 0.0032060837562386535,
        "gap_explained_variance": 0.0031925623729580632,
        "ratio_rmse": 1.1457174929162834,
        "delta_rmse": 0.4207311743152582,
        "ratio_mse": 1.3126685735743737,
        "delta_mse": 2.6065750641134873,
        "ratio_mae": 1.1343109820612052,
        "delta_mae": 0.2861001615630343,
        "ratio_mape": 1.0869918660590154,
        "delta_mape": 0.003647221503719246,
        "ratio_medae": 1.1297134925975116,
        "delta_medae": 0.204554667821359
      }
    }
  },
  "baselines": {
    "rf": {
      "metrics_test": {
        "r2": 0.9809794405128931,
        "mse": 7.332899030161449,
        "rmse": 2.707932611820584,
        "mae": 1.8227972080985457,
        "mape": 0.034458896509248035,
        "explained_variance": 0.9810594432652754,
        "medae": 1.2733195284359589
      }
    },
    "gbr": {
      "metrics_test": {
        "r2": 0.8866562097658828,
        "mse": 43.696851822154294,
        "rmse": 6.610359432145448,
        "mae": 4.94158121028395,
        "mape": 0.09504385856502973,
        "explained_variance": 0.8869598831143684,
        "medae": 4.000105657509408
      }
    },
    "hgbt": {
      "metrics_test": {
        "r2": 0.9553127368634794,
        "mse": 17.228052031617924,
        "rmse": 4.150668865570696,
        "mae": 3.039743310535724,
        "mape": 0.05873099986669901,
        "explained_variance": 0.9553213954978376,
        "medae": 2.341019200863496
      }
    },
    "xgboost": {
      "metrics_test": {
        "r2": 0.9851771667699284,
        "mse": 5.714571092964707,
        "rmse": 2.3905169091568266,
        "mae": 1.7181378081667602,
        "mape": 0.03324522016947903,
        "explained_variance": 0.9851782545555586,
        "medae": 1.2486960367402489
      }
    },
    "lightgbm": {
      "metrics_test": {
        "r2": 0.9520839654383333,
        "mse": 18.472823767597394,
        "rmse": 4.298002299626815,
        "mae": 3.1254878702320434,
        "mape": 0.06018105051084805,
        "explained_variance": 0.9520900062025742,
        "medae": 2.3124773983058944
      }
    },
    "catboost": {
      "metrics_test": {
        "r2": 0.837620788699454,
        "mse": 62.60122694452175,
        "rmse": 7.9120937143414665,
        "mae": 5.542365397783388,
        "mape": 0.10671549587340139,
        "explained_variance": 0.8376218146243335,
        "medae": 3.9906443002558127
      }
    }
  },
  "df_validation_results_path": "models\\validation_results.csv"
}