{
  "models": {
    "catboost": {
      "best_params": {
        "depth": 6,
        "learning_rate": 0.043583559109257056,
        "l2_leaf_reg": 4.254161143439939,
        "bagging_temperature": 0.9113172778521575,
        "border_count": 48,
        "random_strength": 0.06505159298527952,
        "rsm": 0.8321099380386666,
        "min_data_in_leaf": 78,
        "max_ctr_complexity": 3
      },
      "best_primary_value": -0.13004068884850392,
      "metrics_test": {
        "r2": 0.8311802168109177,
        "mse": 106.18302862565926,
        "rmse": 10.304514963144033,
        "mae": 7.7339997565754945,
        "mape": 0.12651719330571937,
        "explained_variance": 0.8313632193149737,
        "medae": 5.938077924406969
      },
      "metrics_train": {
        "r2": 0.9185263815762257,
        "mse": 48.55714836857917,
        "rmse": 6.968295944388353,
        "mae": 5.208572576588152,
        "mape": 0.08635055264077958,
        "explained_variance": 0.9185334952082268,
        "medae": 4.001076478184121
      },
      "metrics_test_original": {
        "r2": 0.695100962050474,
        "mse": 1533476723.5966141,
        "rmse": 39159.631300570414,
        "mae": 21172.61711370619,
        "mape": 0.6005636895752351,
        "explained_variance": 0.6992219159121021,
        "medae": 12200.542997191515,
        "mape_floor": 0.5938729189039132
      },
      "metrics_train_original": {
        "r2": 0.8379904238131783,
        "mse": 580597775.2597221,
        "rmse": 24095.596594807983,
        "mae": 13300.479992240938,
        "mape": 0.34100329109270866,
        "explained_variance": 0.8410199602608833,
        "medae": 6830.958767051032,
        "mape_floor": 0.3217763760875549
      },
      "smearing_factor": null,
      "overfit": {
        "gap_r2": 0.08734616476530799,
        "gap_explained_variance": 0.0871702758932531,
        "ratio_rmse": 1.4787711436742832,
        "delta_rmse": 3.3362190187556804,
        "ratio_mse": 2.186764095363747,
        "delta_mse": 57.62588025708009,
        "ratio_mae": 1.4848597466681765,
        "delta_mae": 2.525427179987343,
        "ratio_mape": 1.4651578876632556,
        "delta_mape": 0.04016664066493979,
        "ratio_medae": 1.4841200753808013,
        "delta_medae": 1.9370014462228475
      }
    },
    "xgboost": {
      "best_params": {
        "n_estimators": 967,
        "max_depth": 3,
        "learning_rate": 0.04665303012212833,
        "subsample": 0.8081106602001054,
        "colsample_bytree": 0.653084777669569,
        "min_child_weight": 7.727374508106509,
        "reg_alpha": 0.31261029103110594,
        "reg_lambda": 4.059611610484305,
        "gamma": 2.6237821581611893
      },
      "best_primary_value": -0.12665801843904906,
      "metrics_test": {
        "r2": 0.8224420689149918,
        "mse": 111.67908477880063,
        "rmse": 10.567832548768013,
        "mae": 7.796472247087877,
        "mape": 0.12630144358181405,
        "explained_variance": 0.8224669343554771,
        "medae": 5.700524950997902
      },
      "metrics_train": {
        "r2": 0.965344517274103,
        "mse": 20.654187810260247,
        "rmse": 4.544687867198389,
        "mae": 3.3687998332547404,
        "mape": 0.0550322261443172,
        "explained_variance": 0.9653446188730428,
        "medae": 2.5250465431191067
      },
      "metrics_test_original": {
        "r2": 0.7668865761289055,
        "mse": 1172434035.4376981,
        "rmse": 34240.8241057031,
        "mae": 20943.54917051138,
        "mape": 0.5894782843249898,
        "explained_variance": 0.7674548099241282,
        "medae": 11815.518487516536,
        "mape_floor": 0.586634086228682
      },
      "metrics_train_original": {
        "r2": 0.9448532101295274,
        "mse": 197630931.8567073,
        "rmse": 14058.126897161916,
        "mae": 8369.879942287784,
        "mape": 0.19363213578592328,
        "explained_variance": 0.9455615562561844,
        "medae": 4222.7350161987,
        "mape_floor": 0.18826216540111634
      },
      "smearing_factor": null,
      "overfit": {
        "gap_r2": 0.14290244835911114,
        "gap_explained_variance": 0.14287768451756566,
        "ratio_rmse": 2.3253153698501725,
        "delta_rmse": 6.023144681569624,
        "ratio_mse": 5.407091569261442,
        "delta_mse": 91.02489696854039,
        "ratio_mae": 2.3143174522053376,
        "delta_mae": 4.427672413833136,
        "ratio_mape": 2.2950451477394274,
        "delta_mape": 0.07126921743749685,
        "ratio_medae": 2.2575920299497656,
        "delta_medae": 3.1754784078787957
      }
    },
    "lightgbm": {
      "best_params": {
        "n_estimators": 837,
        "max_depth": 5,
        "learning_rate": 0.0705427014260977,
        "num_leaves": 38,
        "subsample": 0.769579995762217,
        "colsample_bytree": 0.8343748470046234,
        "reg_alpha": 0.17331598058558695,
        "reg_lambda": 2.4658447214487373,
        "min_child_samples": 56,
        "min_split_gain": 0.16266516538163217
      },
      "best_primary_value": -0.13035825331145698,
      "metrics_test": {
        "r2": 0.8005055019096584,
        "mse": 125.4765857486197,
        "rmse": 11.201633173275212,
        "mae": 8.166519943241521,
        "mape": 0.13470138715486243,
        "explained_variance": 0.8006878889149529,
        "medae": 6.213204780199355
      },
      "metrics_train": {
        "r2": 0.9839877955821918,
        "mse": 9.543052102822186,
        "rmse": 3.0891830801721976,
        "mae": 2.2769469192301015,
        "mape": 0.0370400628218025,
        "explained_variance": 0.9839877955840328,
        "medae": 1.6936031895160113
      },
      "metrics_test_original": {
        "r2": 0.7572961185484735,
        "mse": 1220668833.314194,
        "rmse": 34938.07140232835,
        "mae": 21547.31780454693,
        "mape": 0.689133080963657,
        "explained_variance": 0.7572966028965389,
        "medae": 11395.62812734552,
        "mape_floor": 0.6866796409176429
      },
      "metrics_train_original": {
        "r2": 0.9732607296968865,
        "mse": 95826192.59588471,
        "rmse": 9789.085380968168,
        "mae": 5679.140747328445,
        "mape": 0.1259077572433754,
        "explained_variance": 0.9735757419600148,
        "medae": 2822.0517687626743,
        "mape_floor": 0.12303741638808777
      },
      "smearing_factor": null,
      "overfit": {
        "gap_r2": 0.18348229367253344,
        "gap_explained_variance": 0.18329990666907992,
        "ratio_rmse": 3.626082651161876,
        "delta_rmse": 8.112450093103014,
        "ratio_mse": 13.14847539305714,
        "delta_mse": 115.93353364579751,
        "ratio_mae": 3.5866097159624815,
        "delta_mae": 5.88957302401142,
        "ratio_mape": 3.6366403535248484,
        "delta_mape": 0.09766132433305993,
        "ratio_medae": 3.668630774115943,
        "delta_medae": 4.519601590683344
      }
    },
    "rf": {
      "best_params": {
        "n_estimators": 715,
        "max_depth": 7,
        "min_samples_split": 28,
        "min_samples_leaf": 8,
        "max_features": null,
        "bootstrap": true
      },
      "best_primary_value": -0.13182264114797176,
      "metrics_test": {
        "r2": 0.8297278115229055,
        "mse": 107.09655184764044,
        "rmse": 10.348746390149893,
        "mae": 7.793306156065948,
        "mape": 0.12357447643298394,
        "explained_variance": 0.8311678955890911,
        "medae": 6.166840999048951
      },
      "metrics_train": {
        "r2": 0.9104649155218277,
        "mse": 53.36167050524965,
        "rmse": 7.3049072892987255,
        "mae": 5.232413627713231,
        "mape": 0.08781640258571838,
        "explained_variance": 0.9104650624474441,
        "medae": 3.823993609027056
      },
      "metrics_test_original": {
        "r2": 0.6910994319665404,
        "mse": 1553602248.7007623,
        "rmse": 39415.761424850876,
        "mae": 21402.402307462187,
        "mape": 0.5684022470078215,
        "explained_variance": 0.6996876047974525,
        "medae": 11276.07390190482,
        "mape_floor": 0.5640379534538225
      },
      "metrics_train_original": {
        "r2": 0.8115723858437328,
        "mse": 675272759.4970709,
        "rmse": 25986.010842318043,
        "mae": 13230.904893967943,
        "mape": 0.3843330004027608,
        "explained_variance": 0.8145807941678279,
        "medae": 6756.089901289706,
        "mape_floor": 0.3517374677674216
      },
      "smearing_factor": null,
      "overfit": {
        "gap_r2": 0.0807371039989222,
        "gap_explained_variance": 0.07929716685835297,
        "ratio_rmse": 1.416684152215076,
        "delta_rmse": 3.0438391008511676,
        "ratio_mse": 2.0069939871373483,
        "delta_mse": 53.73488134239079,
        "ratio_mae": 1.489428533476228,
        "delta_mae": 2.560892528352717,
        "ratio_mape": 1.4071912853906967,
        "delta_mape": 0.035758073847265565,
        "ratio_medae": 1.6126703204972115,
        "delta_medae": 2.3428473900218947
      }
    }
  },
  "ensembles": {
    "stacking": {
      "type": "stacking",
      "members": [
        "xgboost",
        "catboost",
        "lightgbm",
        "rf"
      ],
      "final_estimator": "ridge",
      "profile": "tree",
      "metrics_train": {
        "r2": 0.9625768148204106,
        "mse": 22.30370014669539,
        "rmse": 4.722679339812877,
        "mae": 3.5255729265426567,
        "mape": 0.05824142579729193,
        "explained_variance": 0.9632734076730778,
        "medae": 2.7562576427405716
      },
      "metrics_test": {
        "r2": 0.8320705111077695,
        "mse": 105.62305785077679,
        "rmse": 10.277307908726721,
        "mae": 7.4696884834351875,
        "mape": 0.1208119857879156,
        "explained_variance": 0.8330451909948304,
        "medae": 5.528972301260509
      },
      "metrics_train_original": {
        "r2": 0.9390510253317299,
        "mse": 218424366.8161463,
        "rmse": 14779.18694705992,
        "mae": 8742.359422022793,
        "mape": 0.2137026209764934,
        "explained_variance": 0.9390665616447815,
        "medae": 4981.874150808284
      },
      "metrics_test_original": {
        "r2": 0.7724183186879251,
        "mse": 1144612371.8724968,
        "rmse": 33832.12041644001,
        "mae": 20362.855731068168,
        "mape": 0.6020184238717199,
        "explained_variance": 0.7725261496541443,
        "medae": 10846.702704152754,
        "mape_floor": 0.6010541977063122
      },
      "overfit": {
        "gap_r2": 0.13050630371264105,
        "gap_explained_variance": 0.13022821667824735,
        "ratio_rmse": 2.176160431238156,
        "delta_rmse": 5.554628568913844,
        "ratio_mse": 4.7356742224866375,
        "delta_mse": 83.3193577040814,
        "ratio_mae": 2.11871620274788,
        "delta_mae": 3.944115556892531,
        "ratio_mape": 2.0743308415628285,
        "delta_mape": 0.06257055999062366,
        "ratio_medae": 2.005970782819491,
        "delta_medae": 2.772714658519938
      }
    }
  },
  "baselines": {
    "catboost": {
      "metrics_test": {
        "r2": 0.7930186608257764,
        "mse": 130.18560412376596,
        "rmse": 11.409890627160541,
        "mae": 8.021040213547817,
        "mape": 0.1221355475396656,
        "explained_variance": 0.802674813929796,
        "medae": 5.607494835091174
      }
    },
    "xgboost": {
      "metrics_test": {
        "r2": 0.7989975258192035,
        "mse": 126.42506148620696,
        "rmse": 11.243889962384324,
        "mae": 8.37887841465405,
        "mape": 0.13759378451787774,
        "explained_variance": 0.7999199791662861,
        "medae": 6.166536520826483
      }
    },
    "lightgbm": {
      "metrics_test": {
        "r2": 0.8195836885838279,
        "mse": 113.47692786800215,
        "rmse": 10.652554992488993,
        "mae": 7.83325289467093,
        "mape": 0.12747631170033566,
        "explained_variance": 0.8199206253904996,
        "medae": 5.614510770107316
      }
    },
    "rf": {
      "metrics_test": {
        "r2": 0.8388170180508167,
        "mse": 101.37968941181589,
        "rmse": 10.068748155148976,
        "mae": 7.507863114625792,
        "mape": 0.1197324469092831,
        "explained_variance": 0.8390576858442363,
        "medae": 5.763713574595762
      }
    }
  },
  "df_validation_results_path": "models\\validation_results.csv"
}