{
  "models": {
    "rf": {
      "best_params": {
        "n_estimators": 1019,
        "max_depth": 37,
        "min_samples_split": 19,
        "min_samples_leaf": 3,
        "max_features": null,
        "bootstrap": true
      },
      "best_primary_value": -0.04067737667879751,
      "metrics_test": {
        "r2": 0.8465184423193761,
        "mse": 0.2882437305488125,
        "rmse": 0.5368833491074319,
        "mae": 0.3921937041268041,
        "mape": 0.039394091707042375,
        "explained_variance": 0.846572885580115,
        "medae": 0.3119804259213961
      },
      "metrics_train": {
        "r2": 0.9463497053350776,
        "mse": 0.10293436683210291,
        "rmse": 0.32083386172924905,
        "mae": 0.21354957164003238,
        "mape": 0.02195150100136588,
        "explained_variance": 0.9463501629828508,
        "medae": 0.15754501063124504
      },
      "metrics_test_original": {
        "r2": 0.6925641031245386,
        "mse": 1576965173.527582,
        "rmse": 39711.020806919354,
        "mae": 21710.771022851244,
        "mape": 0.629702993110414,
        "explained_variance": 0.694644032482393,
        "medae": 10533.170004849759,
        "mape_floor": 0.6261519917656219
      },
      "metrics_train_original": {
        "r2": 0.8736650300657606,
        "mse": 481849221.38203716,
        "rmse": 21951.06424258371,
        "mae": 10786.321125950042,
        "mape": 0.27234219977588103,
        "explained_variance": 0.8745698224344082,
        "medae": 5240.622033516785,
        "mape_floor": 0.2547794462470525
      },
      "smearing_factor": 1.0465218130359395,
      "overfit": {
        "gap_r2": 0.09983126301570144,
        "gap_explained_variance": 0.09977727740273579,
        "ratio_rmse": 1.6733998905654992,
        "delta_rmse": 0.2160494873781828,
        "ratio_mse": 2.800267193744624,
        "delta_mse": 0.1853093637167096,
        "ratio_mae": 1.836546433293256,
        "delta_mae": 0.17864413248677172,
        "ratio_mape": 1.7945967204972073,
        "delta_mape": 0.017442590705676494,
        "ratio_medae": 1.9802621782268153,
        "delta_medae": 0.15443541529015103
      }
    },
    "gbr": {
      "best_params": {
        "learning_rate": 0.03768736018005988,
        "n_estimators": 900,
        "max_depth": 4,
        "subsample": 0.9984794870162674,
        "min_samples_leaf": 16,
        "max_features": null,
        "min_samples_split": 19,
        "min_impurity_decrease": 0.008942152831506968
      },
      "best_primary_value": -0.0385117202653575,
      "metrics_test": {
        "r2": 0.8378856134442056,
        "mse": 0.30445648495248256,
        "rmse": 0.5517757560390657,
        "mae": 0.40161680313082304,
        "mape": 0.04028217179045402,
        "explained_variance": 0.8380186608317097,
        "medae": 0.3106644174322284
      },
      "metrics_train": {
        "r2": 0.9756480272882553,
        "mse": 0.046722108570914994,
        "rmse": 0.216152974929597,
        "mae": 0.15803035346908675,
        "mape": 0.015884739389416275,
        "explained_variance": 0.9756480282900715,
        "medae": 0.1185194542678154
      },
      "metrics_test_original": {
        "r2": 0.7472265041652542,
        "mse": 1296579234.153934,
        "rmse": 36008.044020106594,
        "mae": 21566.654888162986,
        "mape": 0.6005442836810908,
        "explained_variance": 0.7480296753075306,
        "medae": 10729.809809337647,
        "mape_floor": 0.6001952141211209
      },
      "metrics_train_original": {
        "r2": 0.9426076811491663,
        "mse": 218897777.59854367,
        "rmse": 14795.19440894724,
        "mae": 8283.383754593258,
        "mape": 0.16798704528374633,
        "explained_variance": 0.9427832158944253,
        "medae": 3916.325313187539,
        "mape_floor": 0.16560708932501914
      },
      "smearing_factor": 1.0232979399590463,
      "overfit": {
        "gap_r2": 0.13776241384404964,
        "gap_explained_variance": 0.13762936745836174,
        "ratio_rmse": 2.552709516113688,
        "delta_rmse": 0.3356227811094687,
        "ratio_mse": 6.516325873657379,
        "delta_mse": 0.2577343763815676,
        "ratio_mae": 2.541390272909727,
        "delta_mae": 0.2435864496617363,
        "ratio_mape": 2.535903851044187,
        "delta_mape": 0.024397432401037745,
        "ratio_medae": 2.6212103266205387,
        "delta_medae": 0.19214496316441299
      }
    },
    "hgbt": {
      "best_params": {
        "learning_rate": 0.1391704221375814,
        "max_depth": 5,
        "max_leaf_nodes": 68,
        "l2_regularization": 1.329470847042562e-06,
        "max_bins": 216,
        "min_samples_leaf": 10
      },
      "best_primary_value": -0.0388070317984685,
      "metrics_test": {
        "r2": 0.8373193015066952,
        "mse": 0.30552003856758203,
        "rmse": 0.5527386711345444,
        "mae": 0.4031953894474175,
        "mape": 0.04058855542821423,
        "explained_variance": 0.8373337544845377,
        "medae": 0.3140062231220373
      },
      "metrics_train": {
        "r2": 0.9696508304297053,
        "mse": 0.05822843235269145,
        "rmse": 0.24130568238790284,
        "mae": 0.17940501252237684,
        "mape": 0.017938550633973472,
        "explained_variance": 0.9696508304297053,
        "medae": 0.13841153659032557
      },
      "metrics_test_original": {
        "r2": 0.7189161241944675,
        "mse": 1441794818.0105855,
        "rmse": 37970.97336137942,
        "mae": 21833.479043593954,
        "mape": 0.6287536153627213,
        "explained_variance": 0.7193614576345622,
        "medae": 11585.171623649105,
        "mape_floor": 0.6284270826643794
      },
      "metrics_train_original": {
        "r2": 0.9256494924194711,
        "mse": 283577335.75814605,
        "rmse": 16839.754622860335,
        "mae": 9587.788518596304,
        "mape": 0.19278760705296083,
        "explained_variance": 0.925967356516305,
        "medae": 4483.566598739524,
        "mape_floor": 0.19001582501528874
      },
      "smearing_factor": 1.0288950689345095,
      "overfit": {
        "gap_r2": 0.13233152892301014,
        "gap_explained_variance": 0.13231707594516762,
        "ratio_rmse": 2.29061605870519,
        "delta_rmse": 0.3114329887466416,
        "ratio_mse": 5.246921928398098,
        "delta_mse": 0.24729160621489057,
        "ratio_mae": 2.247403145422861,
        "delta_mae": 0.22379037692504067,
        "ratio_mape": 2.262644081810286,
        "delta_mape": 0.02265000479424076,
        "ratio_medae": 2.26864198503512,
        "delta_medae": 0.17559468653171173
      }
    },
    "xgboost": {
      "best_params": {
        "n_estimators": 327,
        "max_depth": 5,
        "learning_rate": 0.043037212793495996,
        "subsample": 0.7742011240558294,
        "colsample_bytree": 0.8842554186502581,
        "min_child_weight": 1.1561840428654486,
        "reg_alpha": 0.012454828337187316,
        "reg_lambda": 0.00019819171193658584,
        "gamma": 0.06260998020471635
      },
      "best_primary_value": -0.03876443342601518,
      "metrics_test": {
        "r2": 0.8363081392055083,
        "mse": 0.30741903671621257,
        "rmse": 0.5544538183800456,
        "mae": 0.3952501636694438,
        "mape": 0.03956494613867961,
        "explained_variance": 0.8363122012403966,
        "medae": 0.3096270264216674
      },
      "metrics_train": {
        "r2": 0.9798606823161076,
        "mse": 0.03863963706386555,
        "rmse": 0.19656967483278173,
        "mae": 0.15071304764690532,
        "mape": 0.014956794745986117,
        "explained_variance": 0.9798607603457745,
        "medae": 0.12072444536306426
      },
      "metrics_test_original": {
        "r2": 0.6932042007601706,
        "mse": 1573681849.4613044,
        "rmse": 39669.65905400883,
        "mae": 21918.611638590417,
        "mape": 0.6112632323584543,
        "explained_variance": 0.6936369138908389,
        "medae": 10501.597656250007,
        "mape_floor": 0.6112176679607257
      },
      "metrics_train_original": {
        "r2": 0.9508159556093767,
        "mse": 187590922.02560744,
        "rmse": 13696.3835382048,
        "mae": 8153.793815722446,
        "mape": 0.15721095750113676,
        "explained_variance": 0.9511946385993606,
        "medae": 3959.125185373825,
        "mape_floor": 0.15603115598200348
      },
      "smearing_factor": 1.0190716540703153,
      "overfit": {
        "gap_r2": 0.14355254311059928,
        "gap_explained_variance": 0.1435485591053779,
        "ratio_rmse": 2.820647787364503,
        "delta_rmse": 0.35788414354726383,
        "ratio_mse": 7.9560539403642645,
        "delta_mse": 0.26877939965234704,
        "ratio_mae": 2.6225344775420294,
        "delta_mae": 0.2445371160225385,
        "ratio_mape": 2.6452824158262565,
        "delta_mape": 0.024608151392693497,
        "ratio_medae": 2.5647417595541757,
        "delta_medae": 0.18890258105860314
      }
    },
    "lightgbm": {
      "best_params": {
        "n_estimators": 1422,
        "max_depth": 5,
        "learning_rate": 0.0388086750996365,
        "num_leaves": 61,
        "subsample": 0.8733624251043489,
        "colsample_bytree": 0.7952771536093741,
        "reg_alpha": 0.00016558790335404752,
        "reg_lambda": 0.0042108181274639455,
        "min_child_samples": 28,
        "min_split_gain": 0.43546922055261394
      },
      "best_primary_value": -0.04046582159557406,
      "metrics_test": {
        "r2": 0.8442304095817849,
        "mse": 0.292540736012319,
        "rmse": 0.540870350465173,
        "mae": 0.3966969766737507,
        "mape": 0.040024791083246566,
        "explained_variance": 0.845320348372846,
        "medae": 0.3223445953754833
      },
      "metrics_train": {
        "r2": 0.9362241413393392,
        "mse": 0.12236144594189802,
        "rmse": 0.3498020096310169,
        "mae": 0.24850059764070453,
        "mape": 0.025168441312997447,
        "explained_variance": 0.9362241413394371,
        "medae": 0.18446269155758666
      },
      "metrics_test_original": {
        "r2": 0.6861050587602462,
        "mse": 1610096268.8885283,
        "rmse": 40126.0048956849,
        "mae": 22867.651607229753,
        "mape": 0.663597075535459,
        "explained_variance": 0.6867054762608438,
        "medae": 10534.525260501323,
        "mape_floor": 0.6605514728711489
      },
      "metrics_train_original": {
        "r2": 0.8364248694957024,
        "mse": 623885447.6475353,
        "rmse": 24977.699006264276,
        "mae": 13102.656913639641,
        "mape": 0.3036134998229949,
        "explained_variance": 0.8369813855804076,
        "medae": 6414.985837173997,
        "mape_floor": 0.29104932141219025
      },
      "smearing_factor": 1.058053728576524,
      "overfit": {
        "gap_r2": 0.09199373175755432,
        "gap_explained_variance": 0.09090379296659112,
        "ratio_rmse": 1.54621853383776,
        "delta_rmse": 0.19106834083415608,
        "ratio_mse": 2.3907917543833923,
        "delta_mse": 0.17017929007042099,
        "ratio_mae": 1.5963622640751811,
        "delta_mae": 0.14819637903304617,
        "ratio_mape": 1.5902769100991974,
        "delta_mape": 0.01485634977024912,
        "ratio_medae": 1.7474785424284665,
        "delta_medae": 0.13788190381789667
      }
    },
    "catboost": {
      "best_params": {
        "depth": 7,
        "learning_rate": 0.06655385172273678,
        "l2_leaf_reg": 1.2665701804665634,
        "bagging_temperature": 4.0409677240824315,
        "border_count": 139,
        "random_strength": 0.23061581799837497,
        "rsm": 0.5491300475698698
      },
      "best_primary_value": -0.03956150704040223,
      "metrics_test": {
        "r2": 0.8624241220807282,
        "mse": 0.25837230794527694,
        "rmse": 0.5083033621227356,
        "mae": 0.3606748493991441,
        "mape": 0.03644039444511528,
        "explained_variance": 0.8625853435862757,
        "medae": 0.28860780802443387
      },
      "metrics_train": {
        "r2": 0.9789805291024134,
        "mse": 0.0403283139729614,
        "rmse": 0.20081910758929641,
        "mae": 0.14913495913194985,
        "mape": 0.014919424890567176,
        "explained_variance": 0.979029986881765,
        "medae": 0.11452836796999755
      },
      "metrics_test_original": {
        "r2": 0.7364487424711963,
        "mse": 1351862807.129128,
        "rmse": 36767.686997268785,
        "mae": 19811.947914337026,
        "mape": 0.5809794500097866,
        "explained_variance": 0.7385320327397398,
        "medae": 9872.188609845252,
        "mape_floor": 0.5751597578771963
      },
      "metrics_train_original": {
        "r2": 0.9502139790369072,
        "mse": 189886897.10586947,
        "rmse": 13779.945468174737,
        "mae": 7847.037533216652,
        "mape": 0.15669248220407686,
        "explained_variance": 0.9504619364814322,
        "medae": 3760.209312178222,
        "mape_floor": 0.15457872808613238
      },
      "smearing_factor": 1.0299425249280387,
      "overfit": {
        "gap_r2": 0.11655640702168524,
        "gap_explained_variance": 0.11644464329548931,
        "ratio_rmse": 2.531150388150754,
        "delta_rmse": 0.3074842545334392,
        "ratio_mse": 6.406722287435714,
        "delta_mse": 0.21804399397231553,
        "ratio_mae": 2.4184460269978048,
        "delta_mae": 0.21153989026719427,
        "ratio_mape": 2.44247983500723,
        "delta_mape": 0.021520969554548103,
        "ratio_medae": 2.5199678746844545,
        "delta_medae": 0.17407944005443632
      }
    }
  },
  "ensembles": {
    "voting": {
      "type": "voting",
      "members": [
        "gbr",
        "xgboost",
        "hgbt"
      ],
      "metrics_train": {
        "r2": 0.9774415170040449,
        "mse": 0.0432810887318311,
        "rmse": 0.20804107462669746,
        "mae": 0.15462710937030857,
        "mape": 0.015453716092381522,
        "explained_variance": 0.9774415175641121,
        "medae": 0.11676146308461721
      },
      "metrics_test": {
        "r2": 0.8425591465775134,
        "mse": 0.29567942635635264,
        "rmse": 0.5437641275004749,
        "mae": 0.3940701244459556,
        "mape": 0.03947247150746657,
        "explained_variance": 0.8427186257812227,
        "medae": 0.3089743357585242
      },
      "metrics_train_original": {
        "r2": 0.9459478433044275,
        "mse": 206158196.98487717,
        "rmse": 14358.210089871132,
        "mae": 8186.488488290214,
        "mape": 0.1629004387694854,
        "explained_variance": 0.9462711493417942,
        "medae": 3809.5807258294335
      },
      "metrics_test_original": {
        "r2": 0.7434492437432296,
        "mse": 1315954356.56942,
        "rmse": 36276.0851880329,
        "mae": 21120.482206042947,
        "mape": 0.5908058747795338,
        "explained_variance": 0.7446070281165522,
        "medae": 10113.1811543642,
        "mape_floor": 0.5905771821389266
      },
      "overfit": {
        "gap_r2": 0.1348823704265315,
        "gap_explained_variance": 0.13472289178288943,
        "ratio_rmse": 2.6137344679467196,
        "delta_rmse": 0.3357230528737774,
        "ratio_mse": 6.83160786893272,
        "delta_mse": 0.2523983376245215,
        "ratio_mae": 2.5485189890099877,
        "delta_mae": 0.23944301507564705,
        "ratio_mape": 2.554238169738732,
        "delta_mape": 0.02401875541508505,
        "ratio_medae": 2.6462013030327483,
        "delta_medae": 0.19221287267390696
      }
    },
    "stacking": {
      "type": "stacking",
      "members": [
        "gbr",
        "xgboost",
        "hgbt",
        "catboost",
        "lightgbm"
      ],
      "final_estimator": "ridge",
      "metrics_train": {
        "r2": 0.9866879268585493,
        "mse": 0.02554076969373607,
        "rmse": 0.15981479810623317,
        "mae": 0.12034541790747254,
        "mape": 0.012094964381732513,
        "explained_variance": 0.9875732555980512,
        "medae": 0.09336742265009068
      },
      "metrics_test": {
        "r2": 0.8454857548835004,
        "mse": 0.2901831536528387,
        "rmse": 0.5386865077694435,
        "mae": 0.38367399537534624,
        "mape": 0.038665769119199354,
        "explained_variance": 0.8460808481010549,
        "medae": 0.30920521281800006
      },
      "metrics_train_original": {
        "r2": 0.9703859887302234,
        "mse": 112949631.28394592,
        "rmse": 10627.776403554317,
        "mae": 6217.126014167197,
        "mape": 0.12018615421400956,
        "explained_variance": 0.970615596453999,
        "medae": 3007.57745718574
      },
      "metrics_test_original": {
        "r2": 0.7353075693644187,
        "mse": 1357716353.3956642,
        "rmse": 36847.202789298186,
        "mae": 20924.88450648058,
        "mape": 0.6031830864063639,
        "explained_variance": 0.7372299198847541,
        "medae": 10849.817840430438,
        "mape_floor": 0.6013438448018904
      },
      "overfit": {
        "gap_r2": 0.14120217197504892,
        "gap_explained_variance": 0.14149240749699632,
        "ratio_rmse": 3.3706922897801,
        "delta_rmse": 0.3788717096632103,
        "ratio_mse": 11.361566512383014,
        "delta_mse": 0.2646423839591026,
        "ratio_mae": 3.1881063861553387,
        "delta_mae": 0.2633285774678737,
        "ratio_mape": 3.196848531244767,
        "delta_mape": 0.02657080473746684,
        "ratio_medae": 3.311703419047947,
        "delta_medae": 0.21583779016790938
      }
    }
  },
  "baselines": {
    "rf": {
      "metrics_test": {
        "r2": 0.848228052349568,
        "mse": 0.28503302314961104,
        "rmse": 0.5338848407190553,
        "mae": 0.3830828691430878,
        "mape": 0.038340722014305356,
        "explained_variance": 0.848244837987549,
        "medae": 0.30826555717841586
      }
    },
    "gbr": {
      "metrics_test": {
        "r2": 0.8394776495760383,
        "mse": 0.301466585444407,
        "rmse": 0.5490597284853507,
        "mae": 0.39924909527320296,
        "mape": 0.04025716189263565,
        "explained_variance": 0.840293323808168,
        "medae": 0.3289367115539825
      }
    },
    "hgbt": {
      "metrics_test": {
        "r2": 0.8394067602591279,
        "mse": 0.30159971805962876,
        "rmse": 0.5491809520182112,
        "mae": 0.3882236088740195,
        "mape": 0.039157069488538705,
        "explained_variance": 0.8401656521597297,
        "medae": 0.3057058848197416
      }
    },
    "xgboost": {
      "metrics_test": {
        "r2": 0.8236530787480587,
        "mse": 0.33118568263576026,
        "rmse": 0.5754873435930283,
        "mae": 0.418018312623327,
        "mape": 0.041925920341815484,
        "explained_variance": 0.8236858680195907,
        "medae": 0.354492652839558
      }
    },
    "lightgbm": {
      "metrics_test": {
        "r2": 0.8323466717842571,
        "mse": 0.31485881101355906,
        "rmse": 0.5611228127723548,
        "mae": 0.3968623752161778,
        "mape": 0.04027757528486193,
        "explained_variance": 0.8334373758332002,
        "medae": 0.3037732737625376
      }
    },
    "catboost": {
      "metrics_test": {
        "r2": 0.8529740794838608,
        "mse": 0.2761198182854727,
        "rmse": 0.5254710441931817,
        "mae": 0.38195070417735083,
        "mape": 0.037907496968485194,
        "explained_variance": 0.8534960176375895,
        "medae": 0.2963367153508454
      }
    }
  },
  "df_validation_results_path": "models\\validation_results.csv"
}