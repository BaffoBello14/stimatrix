{
  "models": {
    "catboost": {
      "best_params": {
        "iterations": 100,
        "depth": 6,
        "learning_rate": 0.10156256237781716,
        "l2_leaf_reg": 11.526589024150313,
        "bagging_temperature": 1.0052219224034018,
        "border_count": 72,
        "random_strength": 0.35093133489914397,
        "rsm": 0.7588264819666471,
        "min_data_in_leaf": 38,
        "max_ctr_complexity": 2
      },
      "best_primary_value": -0.13521397098471338,
      "metrics_test": {
        "r2": 0.8334709088195892,
        "mse": 108.84190946355932,
        "rmse": 10.432732598104838,
        "mae": 7.654868625569272,
        "mape": 0.12485440934913279,
        "explained_variance": 0.83350438761336,
        "medae": 5.802301525507886
      },
      "metrics_train": {
        "r2": 0.9016047280477454,
        "mse": 56.50223332699711,
        "rmse": 7.516796746420453,
        "mae": 5.632623336534263,
        "mape": 0.09601553360242994,
        "explained_variance": 0.9016139482214006,
        "medae": 4.261263401568968
      },
      "metrics_test_original": {
        "r2": 0.6113079905430563,
        "mse": 2543364173.2062254,
        "rmse": 50431.77741470377,
        "mae": 23174.485397981,
        "mape": 0.5799311063174731,
        "explained_variance": 0.6209201305673971,
        "medae": 10539.473899123639,
        "mape_floor": 0.57045856607086
      },
      "metrics_train_original": {
        "r2": 0.8097026808649079,
        "mse": 645915564.1053789,
        "rmse": 25414.86895707666,
        "mae": 14254.320406896848,
        "mape": 0.39948109308388513,
        "explained_variance": 0.813613843411794,
        "medae": 7537.209546363252,
        "mape_floor": 0.3699141342555773
      },
      "smearing_factor": null,
      "overfit": {
        "gap_r2": 0.0681338192281562,
        "gap_explained_variance": 0.06810956060804063,
        "ratio_rmse": 1.3879226683990056,
        "delta_rmse": 2.9159358516843854,
        "ratio_mse": 1.9263293334558158,
        "delta_mse": 52.33967613656221,
        "ratio_mae": 1.3590237032038592,
        "delta_mae": 2.022245289035009,
        "ratio_mape": 1.300356355525925,
        "delta_mape": 0.028838875746702852,
        "ratio_medae": 1.3616387861335957,
        "delta_medae": 1.5410381239389181
      }
    },
    "xgboost": {
      "best_params": {
        "n_estimators": 764,
        "max_depth": 6,
        "learning_rate": 0.0058616697342129005,
        "subsample": 0.6798618127599418,
        "colsample_bytree": 0.7212967982439908,
        "min_child_weight": 9.47392447047696,
        "reg_alpha": 0.374396811643533,
        "reg_lambda": 2.1552302595488433,
        "gamma": 0.8811065330257056
      },
      "best_primary_value": -0.1322180720002251,
      "metrics_test": {
        "r2": 0.8509481590359974,
        "mse": 97.41893662294345,
        "rmse": 9.870103171848987,
        "mae": 7.164457171281668,
        "mape": 0.11688336613734614,
        "explained_variance": 0.8509482233115903,
        "medae": 4.963992311484077
      },
      "metrics_train": {
        "r2": 0.9455466870378739,
        "mse": 31.269122320298063,
        "rmse": 5.591880034505217,
        "mae": 4.125574749784182,
        "mape": 0.06895129757617482,
        "explained_variance": 0.9455467953725437,
        "medae": 3.1228384628467367
      },
      "metrics_test_original": {
        "r2": 0.7049142869830727,
        "mse": 1930861484.8060126,
        "rmse": 43941.56898434571,
        "mae": 21379.06388723082,
        "mape": 0.5737659317031593,
        "explained_variance": 0.7112919912388704,
        "medae": 10801.337137172282,
        "mape_floor": 0.5688159077470172
      },
      "metrics_train_original": {
        "r2": 0.8893734865463463,
        "mse": 375493397.21229535,
        "rmse": 19377.652004623662,
        "mae": 10678.534007437629,
        "mape": 0.2679309903137519,
        "explained_variance": 0.8920211214623802,
        "medae": 5428.857396481799,
        "mape_floor": 0.25254794594495816
      },
      "smearing_factor": null,
      "overfit": {
        "gap_r2": 0.09459852800187651,
        "gap_explained_variance": 0.09459857206095346,
        "ratio_rmse": 1.7650777754430702,
        "delta_rmse": 4.27822313734377,
        "ratio_mse": 3.1154995533630583,
        "delta_mse": 66.14981430264538,
        "ratio_mae": 1.736596136491396,
        "delta_mae": 3.038882421497486,
        "ratio_mape": 1.6951583254574396,
        "delta_mape": 0.04793206856117131,
        "ratio_medae": 1.5895770372185596,
        "delta_medae": 1.8411538486373402
      }
    },
    "lightgbm": {
      "best_params": {
        "n_estimators": 1015,
        "max_depth": 6,
        "learning_rate": 0.019284644431790066,
        "num_leaves": 17,
        "subsample": 0.771320249660943,
        "colsample_bytree": 0.686534164498836,
        "reg_alpha": 10.833570933795194,
        "reg_lambda": 1.1164792175696465,
        "min_child_samples": 64,
        "min_split_gain": 0.2308964021658223
      },
      "best_primary_value": -0.13375128562162011,
      "metrics_test": {
        "r2": 0.8367890441330025,
        "mse": 106.67320620090169,
        "rmse": 10.328272178873952,
        "mae": 7.699711579978508,
        "mape": 0.12498223552091416,
        "explained_variance": 0.8368241117198968,
        "medae": 5.752091569034647
      },
      "metrics_train": {
        "r2": 0.9626241063110084,
        "mse": 21.462631528120422,
        "rmse": 4.632777949364768,
        "mae": 3.395033078136353,
        "mape": 0.05580377764991716,
        "explained_variance": 0.9626241063297053,
        "medae": 2.5566697503637315
      },
      "metrics_test_original": {
        "r2": 0.7139581728084444,
        "mse": 1871683794.9251351,
        "rmse": 43262.96100505761,
        "mae": 22307.460908340672,
        "mape": 0.6064215647408787,
        "explained_variance": 0.7172532906389495,
        "medae": 11219.635243811927,
        "mape_floor": 0.6063383014512729
      },
      "metrics_train_original": {
        "r2": 0.9273672166617994,
        "mse": 246533400.6578036,
        "rmse": 15701.382125717582,
        "mae": 8722.806751301992,
        "mape": 0.20166014038897837,
        "explained_variance": 0.9283051611562663,
        "medae": 4421.952111723891,
        "mape_floor": 0.1956297808832738
      },
      "smearing_factor": null,
      "overfit": {
        "gap_r2": 0.12583506217800589,
        "gap_explained_variance": 0.1257999946098085,
        "ratio_rmse": 2.2293907223181573,
        "delta_rmse": 5.695494229509184,
        "ratio_mse": 4.970182992758276,
        "delta_mse": 85.21057467278126,
        "ratio_mae": 2.267934185844556,
        "delta_mae": 4.3046785018421545,
        "ratio_mape": 2.2396733838519927,
        "delta_mape": 0.069178457870997,
        "ratio_medae": 2.2498375350263013,
        "delta_medae": 3.1954218186709156
      }
    },
    "rf": {
      "best_params": {
        "n_estimators": 818,
        "max_depth": 13,
        "min_samples_split": 30,
        "min_samples_leaf": 16,
        "max_features": null,
        "bootstrap": true
      },
      "best_primary_value": -0.13387030281077278,
      "metrics_test": {
        "r2": 0.8357460065486149,
        "mse": 107.35492614257855,
        "rmse": 10.361222232081433,
        "mae": 7.4740755718054,
        "mape": 0.11798312535391063,
        "explained_variance": 0.8387307032260856,
        "medae": 5.573450894765742
      },
      "metrics_train": {
        "r2": 0.9090931263388113,
        "mse": 52.20211586106232,
        "rmse": 7.225103173039283,
        "mae": 5.109222162943194,
        "mape": 0.08735154740008962,
        "explained_variance": 0.9090931753828305,
        "medae": 3.657620279606107
      },
      "metrics_test_original": {
        "r2": 0.6144451705571234,
        "mse": 2522836374.6959734,
        "rmse": 50227.84461527265,
        "mae": 22689.364658173745,
        "mape": 0.5429834459508504,
        "explained_variance": 0.6300044459641642,
        "medae": 9203.730848866362,
        "mape_floor": 0.5364756628117425
      },
      "metrics_train_original": {
        "r2": 0.8099372672539424,
        "mse": 645119320.6244231,
        "rmse": 25399.199212266973,
        "mae": 13043.832533130062,
        "mape": 0.39677417079458677,
        "explained_variance": 0.8130192808401775,
        "medae": 6725.981009219897,
        "mape_floor": 0.358875773823559
      },
      "smearing_factor": null,
      "overfit": {
        "gap_r2": 0.07334711979019648,
        "gap_explained_variance": 0.07036247215674496,
        "ratio_rmse": 1.4340587233058046,
        "delta_rmse": 3.1361190590421497,
        "ratio_mse": 2.0565244218894745,
        "delta_mse": 55.15281028151623,
        "ratio_mae": 1.4628597726703512,
        "delta_mae": 2.3648534088622064,
        "ratio_mape": 1.3506701239477938,
        "delta_mape": 0.030631577953821015,
        "ratio_medae": 1.5237915553568488,
        "delta_medae": 1.915830615159635
      }
    }
  },
  "ensembles": {
    "stacking": {
      "type": "stacking",
      "members": [
        "xgboost",
        "lightgbm",
        "rf",
        "catboost"
      ],
      "final_estimator": "ridge",
      "profile": "tree",
      "metrics_train": {
        "r2": 0.9480854608829687,
        "mse": 29.811263733051813,
        "rmse": 5.45996920623659,
        "mae": 3.9985404564284996,
        "mape": 0.06650051807925585,
        "explained_variance": 0.94867232772872,
        "medae": 3.056793297345564
      },
      "metrics_test": {
        "r2": 0.8487244652306467,
        "mse": 98.87232280382673,
        "rmse": 9.94345628058105,
        "mae": 7.144306910771005,
        "mape": 0.11690423666925996,
        "explained_variance": 0.8493353076921726,
        "medae": 5.29299202150861
      },
      "metrics_train_original": {
        "r2": 0.904278071444689,
        "mse": 324903596.9664218,
        "rmse": 18025.082439934133,
        "mae": 10212.382981488247,
        "mape": 0.2567937053279645,
        "explained_variance": 0.9043211836732962,
        "medae": 5505.796934098938
      },
      "metrics_test_original": {
        "r2": 0.7187822442750831,
        "mse": 1840118004.4310694,
        "rmse": 42896.59665324359,
        "mae": 21251.23416143218,
        "mape": 0.5902641954691545,
        "explained_variance": 0.720598727382231,
        "medae": 9391.507577415938,
        "mape_floor": 0.5874615771517439
      },
      "overfit": {
        "gap_r2": 0.09936099565232204,
        "gap_explained_variance": 0.09933702003654743,
        "ratio_rmse": 1.8211561100423874,
        "delta_rmse": 4.48348707434446,
        "ratio_mse": 3.316609577144721,
        "delta_mse": 69.06105907077492,
        "ratio_mae": 1.7867286797823991,
        "delta_mae": 3.145766454342505,
        "ratio_mape": 1.7579447505947632,
        "delta_mape": 0.050403718590004115,
        "ratio_medae": 1.7315505193317782,
        "delta_medae": 2.236198724163046
      }
    }
  },
  "baselines": {
    "catboost": {
      "metrics_test": {
        "r2": 0.8221439564670379,
        "mse": 116.24510318614333,
        "rmse": 10.781702239727423,
        "mae": 7.426649360455884,
        "mape": 0.11159641098472235,
        "explained_variance": 0.831219831774078,
        "medae": 5.302373417473106
      }
    },
    "xgboost": {
      "metrics_test": {
        "r2": 0.8228692473148376,
        "mse": 115.77105964077005,
        "rmse": 10.759696075669147,
        "mae": 8.122483957800394,
        "mape": 0.13404958718397608,
        "explained_variance": 0.8253891993372504,
        "medae": 6.463024870568354
      }
    },
    "lightgbm": {
      "metrics_test": {
        "r2": 0.8431291604508501,
        "mse": 102.52936345628474,
        "rmse": 10.125678419557119,
        "mae": 7.496749520337001,
        "mape": 0.12098976995985689,
        "explained_variance": 0.8439344040974825,
        "medae": 5.6708142989238866
      }
    },
    "rf": {
      "metrics_test": {
        "r2": 0.8474582337942012,
        "mse": 99.69992023073044,
        "rmse": 9.984984738632825,
        "mae": 7.098826121180963,
        "mape": 0.11421162284473908,
        "explained_variance": 0.8480869110671049,
        "medae": 5.033349394845786
      }
    }
  },
  "df_validation_results_path": "models\\validation_results.csv"
}