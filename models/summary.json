{
  "models": {
    "rf": {
      "best_params": {
        "n_estimators": 229,
        "max_depth": 40,
        "min_samples_split": 8,
        "min_samples_leaf": 4,
        "max_features": null,
        "bootstrap": true
      },
      "best_primary_value": -7.3724425550497905,
      "metrics_test": {
        "r2": 0.8515917940212514,
        "mse": 49.7013803194521,
        "rmse": 7.049920589584829,
        "mae": 5.196753611906524,
        "mape": 0.10356768454455458,
        "explained_variance": 0.853920214419285,
        "medae": 3.9673994679330633
      },
      "metrics_train": {
        "r2": 0.9616177230250607,
        "mse": 11.400922628041727,
        "rmse": 3.376525229883782,
        "mae": 2.212249873387167,
        "mape": 0.04597489659674734,
        "explained_variance": 0.961617754244489,
        "medae": 1.502988655765968
      },
      "metrics_test_original": {
        "r2": 0.6475441119027384,
        "mse": 2080710979.0656025,
        "rmse": 45614.81096163397,
        "mae": 21909.1869920907,
        "mape": 0.4722757332279418,
        "explained_variance": 0.6584472893102656,
        "medae": 9273.865363582343,
        "mape_floor": 0.4691948398871287
      },
      "metrics_train_original": {
        "r2": 0.8835273046258882,
        "mse": 485707528.28878194,
        "rmse": 22038.77329364731,
        "mae": 8663.35619873592,
        "mape": 0.2013942440337506,
        "explained_variance": 0.8852160309524845,
        "medae": 3614.6406510278757,
        "mape_floor": 0.1922136167047393
      },
      "smearing_factor": null,
      "overfit": {
        "gap_r2": 0.11002592900380925,
        "gap_explained_variance": 0.10769753982520403,
        "ratio_rmse": 2.0879217863352033,
        "delta_rmse": 3.6733953597010474,
        "ratio_mse": 4.359417385853186,
        "delta_mse": 38.30045769141037,
        "ratio_mae": 2.3490807591051164,
        "delta_mae": 2.984503738519357,
        "ratio_mape": 2.2527007608730947,
        "delta_mape": 0.057592787947807235,
        "ratio_medae": 2.6396735948157626,
        "delta_medae": 2.4644108121670953
      }
    },
    "gbr": {
      "best_params": {
        "learning_rate": 0.04940473755102855,
        "n_estimators": 1292,
        "max_depth": 3,
        "subsample": 0.939588388698158,
        "min_samples_leaf": 17,
        "max_features": null,
        "min_samples_split": 8,
        "min_impurity_decrease": 0.0031822719061471083
      },
      "best_primary_value": -6.862184047088806,
      "metrics_test": {
        "r2": 0.8444682098429527,
        "mse": 52.087043323382964,
        "rmse": 7.217135395943668,
        "mae": 5.301099218391541,
        "mape": 0.10486319713182204,
        "explained_variance": 0.8445453845576436,
        "medae": 4.091836999055417
      },
      "metrics_train": {
        "r2": 0.9566353884698239,
        "mse": 12.880855952694718,
        "rmse": 3.5889909379510443,
        "mae": 2.619376796101927,
        "mape": 0.054154991862081614,
        "explained_variance": 0.9566353973876015,
        "medae": 1.9524426890423285
      },
      "metrics_test_original": {
        "r2": 0.6628344071851853,
        "mse": 1990445256.9092946,
        "rmse": 44614.40638302043,
        "mae": 22624.27331019437,
        "mape": 0.48890298538846405,
        "explained_variance": 0.6649654882036289,
        "medae": 10308.585096400551,
        "mape_floor": 0.48794641486096196
      },
      "metrics_train_original": {
        "r2": 0.9220385291517272,
        "mse": 325110303.198916,
        "rmse": 18030.815378094136,
        "mae": 9541.98856085405,
        "mape": 0.21431733827541688,
        "explained_variance": 0.9230238880703704,
        "medae": 4647.829694635817,
        "mape_floor": 0.20990450664408195
      },
      "smearing_factor": null,
      "overfit": {
        "gap_r2": 0.1121671786268712,
        "gap_explained_variance": 0.1120900128299579,
        "ratio_rmse": 2.010909339343145,
        "delta_rmse": 3.6281444579926236,
        "ratio_mse": 4.043756371057483,
        "delta_mse": 39.20618737068825,
        "ratio_mae": 2.023801702099701,
        "delta_mae": 2.681722422289614,
        "ratio_mape": 1.9363532986743082,
        "delta_mape": 0.05070820526974043,
        "ratio_medae": 2.0957526804858273,
        "delta_medae": 2.1393943100130883
      }
    },
    "hgbt": {
      "best_params": {
        "learning_rate": 0.29501679951269855,
        "max_depth": 8,
        "max_leaf_nodes": 22,
        "l2_regularization": 0.0016016830749850724,
        "max_bins": 148,
        "min_samples_leaf": 15
      },
      "best_primary_value": -6.971078587852481,
      "metrics_test": {
        "r2": 0.8337202109262419,
        "mse": 55.686509931779234,
        "rmse": 7.462339440938025,
        "mae": 5.5324923873604925,
        "mape": 0.11102925641700441,
        "explained_variance": 0.8337754399731795,
        "medae": 4.207338272079809
      },
      "metrics_train": {
        "r2": 0.9783834421420624,
        "mse": 6.420898473111592,
        "rmse": 2.5339491851873417,
        "mae": 1.8594607574934134,
        "mape": 0.039258282933549854,
        "explained_variance": 0.9783834421420624,
        "medae": 1.3593987515365953
      },
      "metrics_test_original": {
        "r2": 0.6605451097161406,
        "mse": 2003960044.2601423,
        "rmse": 44765.61229627204,
        "mae": 22963.90042037894,
        "mape": 0.49939169956738505,
        "explained_variance": 0.6638884477113041,
        "medae": 10440.489248683443,
        "mape_floor": 0.49675739115438655
      },
      "metrics_train_original": {
        "r2": 0.9653907819892095,
        "mse": 144325308.88063392,
        "rmse": 12013.546890100106,
        "mae": 6480.296676498278,
        "mape": 0.14888762097078317,
        "explained_variance": 0.9657354062080897,
        "medae": 3354.1817362708607,
        "mape_floor": 0.14596500298688694
      },
      "smearing_factor": null,
      "overfit": {
        "gap_r2": 0.14466323121582048,
        "gap_explained_variance": 0.14460800216888292,
        "ratio_rmse": 2.944944391371571,
        "delta_rmse": 4.928390255750683,
        "ratio_mse": 8.672697468270876,
        "delta_mse": 49.26561145866764,
        "ratio_mae": 2.975320863893031,
        "delta_mae": 3.6730316298670793,
        "ratio_mape": 2.828174034125155,
        "delta_mape": 0.07177097348345456,
        "ratio_medae": 3.0949993644793685,
        "delta_medae": 2.847939520543214
      }
    },
    "xgboost": {
      "best_params": {
        "n_estimators": 1363,
        "max_depth": 3,
        "learning_rate": 0.035842768900688285,
        "subsample": 0.8781518129786987,
        "colsample_bytree": 0.7015547358525362,
        "min_child_weight": 6.222573355729687,
        "reg_alpha": 0.5943430959349257,
        "reg_lambda": 0.0001942745270091887,
        "gamma": 2.879629429921253
      },
      "best_primary_value": -6.88203019845355,
      "metrics_test": {
        "r2": 0.8488741481481197,
        "mse": 50.61151025615823,
        "rmse": 7.11417670965223,
        "mae": 5.309611818054569,
        "mape": 0.10639589009340124,
        "explained_variance": 0.8489848054775975,
        "medae": 4.217829754212346
      },
      "metrics_train": {
        "r2": 0.951862888809835,
        "mse": 14.298460734230071,
        "rmse": 3.7813305507757544,
        "mae": 2.785988569495065,
        "mape": 0.05752353403751985,
        "explained_variance": 0.951862908206882,
        "medae": 2.108777346157126
      },
      "metrics_test_original": {
        "r2": 0.6709916404673428,
        "mse": 1942289316.202465,
        "rmse": 44071.41155218954,
        "mae": 22645.418363808323,
        "mape": 0.49943941831456756,
        "explained_variance": 0.6716485124294551,
        "medae": 10513.959067821925,
        "mape_floor": 0.49835310885169315
      },
      "metrics_train_original": {
        "r2": 0.9133753321889664,
        "mse": 361237053.51018876,
        "rmse": 19006.237226505113,
        "mae": 10210.953972232377,
        "mape": 0.2287798920270638,
        "explained_variance": 0.9145441309266992,
        "medae": 4983.723274367863,
        "mape_floor": 0.2231700310416709
      },
      "smearing_factor": null,
      "overfit": {
        "gap_r2": 0.10298874066171537,
        "gap_explained_variance": 0.10287810272928455,
        "ratio_rmse": 1.8813950841173432,
        "delta_rmse": 3.3328461588764755,
        "ratio_mse": 3.5396474625409047,
        "delta_mse": 36.313049521928164,
        "ratio_mae": 1.9058268494679746,
        "delta_mae": 2.5236232485595043,
        "ratio_mape": 1.8496062850381252,
        "delta_mape": 0.04887235605588139,
        "ratio_medae": 2.00013043667156,
        "delta_medae": 2.10905240805522
      }
    },
    "lightgbm": {
      "best_params": {
        "n_estimators": 656,
        "max_depth": 6,
        "learning_rate": 0.09730017211575605,
        "num_leaves": 28,
        "subsample": 0.7696973294415477,
        "colsample_bytree": 0.6574455217505529,
        "reg_alpha": 0.7803595833597773,
        "reg_lambda": 0.004601362350728493,
        "min_child_samples": 29,
        "min_split_gain": 0.4797861408071763
      },
      "best_primary_value": -6.957655827940171,
      "metrics_test": {
        "r2": 0.8433783551446689,
        "mse": 52.45203178540983,
        "rmse": 7.242377495367791,
        "mae": 5.271350761706526,
        "mape": 0.10652048802745849,
        "explained_variance": 0.8442137081172514,
        "medae": 3.615703080294182
      },
      "metrics_train": {
        "r2": 0.9876480826974009,
        "mse": 3.6689655896873625,
        "rmse": 1.9154544081463705,
        "mae": 1.3433884525885629,
        "mape": 0.028397066833760313,
        "explained_variance": 0.9876480827011647,
        "medae": 0.936125696281426
      },
      "metrics_test_original": {
        "r2": 0.6772899573358162,
        "mse": 1905107423.3743615,
        "rmse": 43647.536280692424,
        "mae": 22457.257289543762,
        "mape": 0.5240625538055568,
        "explained_variance": 0.6776943139664287,
        "medae": 10259.2122195786,
        "mape_floor": 0.5225635435562405
      },
      "metrics_train_original": {
        "r2": 0.9776637442051876,
        "mse": 93145329.542495,
        "rmse": 9651.182805360957,
        "mae": 4678.5123044854045,
        "mape": 0.10679652862620652,
        "explained_variance": 0.9778717030909408,
        "medae": 2253.8150337391708,
        "mape_floor": 0.10467467040625579
      },
      "smearing_factor": null,
      "overfit": {
        "gap_r2": 0.14426972755273204,
        "gap_explained_variance": 0.14343437458391328,
        "ratio_rmse": 3.781023168479592,
        "delta_rmse": 5.32692308722142,
        "ratio_mse": 14.296136200579449,
        "delta_mse": 48.78306619572247,
        "ratio_mae": 3.9239214477013027,
        "delta_mae": 3.927962309117963,
        "ratio_mape": 3.7511088258178793,
        "delta_mape": 0.07812342119369818,
        "ratio_medae": 3.862411954566408,
        "delta_medae": 2.679577384012756
      }
    },
    "catboost": {
      "best_params": {
        "depth": 7,
        "learning_rate": 0.08580848224740945,
        "l2_leaf_reg": 9.108523000826807,
        "bagging_temperature": 2.1875985685932404,
        "border_count": 239,
        "random_strength": 1.3981484940958357,
        "rsm": 0.6926676867018804
      },
      "best_primary_value": -6.925546108163664,
      "metrics_test": {
        "r2": 0.8631360921489858,
        "mse": 45.8352359375853,
        "rmse": 6.770172519041543,
        "mae": 4.917282922736684,
        "mape": 0.09616410245197617,
        "explained_variance": 0.8631689477232661,
        "medae": 3.7992388938088766
      },
      "metrics_train": {
        "r2": 0.9589440848481836,
        "mse": 12.195089738290465,
        "rmse": 3.492146866655305,
        "mae": 2.5761863874865645,
        "mape": 0.0526348512397145,
        "explained_variance": 0.9589453489903264,
        "medae": 1.9108972748618243
      },
      "metrics_test_original": {
        "r2": 0.6731170507481923,
        "mse": 1929742031.1216102,
        "rmse": 43928.829157190274,
        "mae": 21483.82643953014,
        "mape": 0.45588464363007086,
        "explained_variance": 0.6758504884488699,
        "medae": 9538.353490228052,
        "mape_floor": 0.45489993672219076
      },
      "metrics_train_original": {
        "r2": 0.9258038638902133,
        "mse": 309408327.52869016,
        "rmse": 17590.006467556803,
        "mae": 9572.83335556014,
        "mape": 0.2069401903828697,
        "explained_variance": 0.9269097554803369,
        "medae": 4609.492531254829,
        "mape_floor": 0.2022348887355387
      },
      "smearing_factor": null,
      "overfit": {
        "gap_r2": 0.09580799269919782,
        "gap_explained_variance": 0.09577640126706022,
        "ratio_rmse": 1.9386849343841752,
        "delta_rmse": 3.278025652386238,
        "ratio_mse": 3.758499274808173,
        "delta_mse": 33.64014619929484,
        "ratio_mae": 1.9087450141890514,
        "delta_mae": 2.341096535250119,
        "ratio_mape": 1.8270043552325574,
        "delta_mape": 0.043529251212261665,
        "ratio_medae": 1.98819630117668,
        "delta_medae": 1.8883416189470523
      }
    }
  },
  "ensembles": {
    "voting": {
      "type": "voting",
      "members": [
        "gbr",
        "xgboost",
        "catboost"
      ],
      "metrics_train": {
        "r2": 0.9596859734045606,
        "mse": 11.974722040058118,
        "rmse": 3.460451132447635,
        "mae": 2.5367688633132732,
        "mape": 0.052341524065074925,
        "explained_variance": 0.9596859734051705,
        "medae": 1.9094459048387975
      },
      "metrics_test": {
        "r2": 0.8505768997382985,
        "mse": 50.041264805006065,
        "rmse": 7.073985072433081,
        "mae": 5.190087431062273,
        "mape": 0.1031951143645583,
        "explained_variance": 0.8507626224442906,
        "medae": 3.9300809063515203
      },
      "metrics_train_original": {
        "r2": 0.9269918128896328,
        "mse": 304454413.04780805,
        "rmse": 17448.622095965286,
        "mae": 9281.252572618072,
        "mape": 0.20605824566952402,
        "explained_variance": 0.9280242154152011,
        "medae": 4474.746665292398
      },
      "metrics_test_original": {
        "r2": 0.6873615200497772,
        "mse": 1845650305.9789965,
        "rmse": 42961.0324128622,
        "mae": 22231.443091312576,
        "mape": 0.4974804151586217,
        "explained_variance": 0.6886059603697052,
        "medae": 10090.110730412722,
        "mape_floor": 0.49643501050148137
      },
      "overfit": {
        "gap_r2": 0.1091090736662621,
        "gap_explained_variance": 0.1089233509608799,
        "ratio_rmse": 2.0442378180412373,
        "delta_rmse": 3.6135339399854463,
        "ratio_mse": 4.178908256709998,
        "delta_mse": 38.06654276494795,
        "ratio_mae": 2.0459441560172342,
        "delta_mae": 2.653318567749,
        "ratio_mape": 1.971572593802549,
        "delta_mape": 0.05085359029948338,
        "ratio_medae": 2.0582310797033614,
        "delta_medae": 2.020635001512723
      }
    },
    "stacking": {
      "type": "stacking",
      "members": [
        "gbr",
        "xgboost",
        "catboost",
        "lightgbm",
        "hgbt"
      ],
      "final_estimator": "ridge",
      "metrics_train": {
        "r2": 0.9731852840467794,
        "mse": 7.964939184696906,
        "rmse": 2.8222223839904794,
        "mae": 2.063817392548152,
        "mape": 0.042453760695314445,
        "explained_variance": 0.9732519604065807,
        "medae": 1.5235612175087212
      },
      "metrics_test": {
        "r2": 0.8544053671696995,
        "mse": 48.759124679439545,
        "rmse": 6.982773423177895,
        "mae": 5.111113752667636,
        "mape": 0.10210487430723629,
        "explained_variance": 0.8544073971371421,
        "medae": 3.6760241384413845
      },
      "metrics_train_original": {
        "r2": 0.9527573794198304,
        "mse": 197008375.20910576,
        "rmse": 14035.967198918133,
        "mae": 7503.418281624412,
        "mape": 0.16199547842081108,
        "explained_variance": 0.9537384912962018,
        "medae": 3586.1735901034717
      },
      "metrics_test_original": {
        "r2": 0.6946136901549471,
        "mse": 1802837374.0080197,
        "rmse": 42459.832477389966,
        "mae": 21713.134133217747,
        "mape": 0.4852746886783023,
        "explained_variance": 0.6967068365549032,
        "medae": 9911.224164775194,
        "mape_floor": 0.4845812397797301
      },
      "overfit": {
        "gap_r2": 0.1187799168770799,
        "gap_explained_variance": 0.1188445632694386,
        "ratio_rmse": 2.474210913636298,
        "delta_rmse": 4.160551039187416,
        "ratio_mse": 6.121719645156964,
        "delta_mse": 40.794185494742635,
        "ratio_mae": 2.4765339080494186,
        "delta_mae": 3.0472963601194842,
        "ratio_mape": 2.4050843231540955,
        "delta_mape": 0.059651113611921845,
        "ratio_medae": 2.412784006442683,
        "delta_medae": 2.1524629209326633
      }
    }
  },
  "baselines": {
    "rf": {
      "metrics_test": {
        "r2": 0.8526995453535728,
        "mse": 49.330398338341354,
        "rmse": 7.023560232413569,
        "mae": 5.143996747188065,
        "mape": 0.10197306693456261,
        "explained_variance": 0.8544513747374334,
        "medae": 3.741911009325392
      }
    },
    "gbr": {
      "metrics_test": {
        "r2": 0.847292045926631,
        "mse": 51.14135066286536,
        "rmse": 7.151318106675535,
        "mae": 5.264414492422917,
        "mape": 0.10332831448578078,
        "explained_variance": 0.8476095638105238,
        "medae": 4.1535109929255825
      }
    },
    "hgbt": {
      "metrics_test": {
        "r2": 0.8463646825756324,
        "mse": 51.45192135064057,
        "rmse": 7.172999466794945,
        "mae": 5.169719191915297,
        "mape": 0.10236323633563847,
        "explained_variance": 0.8463674110585273,
        "medae": 3.7327320367063876
      }
    },
    "xgboost": {
      "metrics_test": {
        "r2": 0.826609442203554,
        "mse": 58.067881085208455,
        "rmse": 7.620228414241168,
        "mae": 5.541120022175258,
        "mape": 0.11113473577859335,
        "explained_variance": 0.8266098794810866,
        "medae": 3.948920819466764
      }
    },
    "lightgbm": {
      "metrics_test": {
        "r2": 0.8454414867547816,
        "mse": 51.76109634739245,
        "rmse": 7.194518493088502,
        "mae": 5.204276125781192,
        "mape": 0.1039445344766943,
        "explained_variance": 0.845563292874158,
        "medae": 3.8685200953635466
      }
    },
    "catboost": {
      "metrics_test": {
        "r2": 0.8470493645356366,
        "mse": 51.22262379753282,
        "rmse": 7.15699823931324,
        "mae": 5.171036097042266,
        "mape": 0.09991923249680569,
        "explained_variance": 0.8495982505882559,
        "medae": 4.018728645741547
      }
    }
  },
  "df_validation_results_path": "models\\validation_results.csv"
}