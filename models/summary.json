{
  "models": {
    "catboost": {
      "best_params": {
        "depth": 7,
        "learning_rate": 0.0913610690702753,
        "l2_leaf_reg": 5.904915397696943,
        "bagging_temperature": 0.2555685656859197,
        "border_count": 69,
        "random_strength": 0.029102157326546238,
        "rsm": 0.8048624077549629,
        "min_data_in_leaf": 57,
        "max_ctr_complexity": 3
      },
      "best_primary_value": -0.12430262593637167,
      "metrics_test": {
        "r2": 0.8288950527345937,
        "mse": 108.52655637621814,
        "rmse": 10.417607996858882,
        "mae": 7.682958695958379,
        "mape": 0.12600995614827146,
        "explained_variance": 0.8289293836169888,
        "medae": 5.791293182965504
      },
      "metrics_train": {
        "r2": 0.9704140052871759,
        "mse": 17.550139812204016,
        "rmse": 4.189288700030593,
        "mae": 3.1143594995693964,
        "mape": 0.04993987393258523,
        "explained_variance": 0.970418639300773,
        "medae": 2.357567318887135
      },
      "metrics_test_original": {
        "r2": 0.745453642421286,
        "mse": 1305672971.2748458,
        "rmse": 36134.09707291502,
        "mae": 20404.48044323326,
        "mape": 0.6053325509364523,
        "explained_variance": 0.7476000149248722,
        "medae": 10354.884511974495,
        "mape_floor": 0.5980014950420294
      },
      "metrics_train_original": {
        "r2": 0.9495664258610585,
        "mse": 179706057.31425217,
        "rmse": 13405.448791974559,
        "mae": 7902.63719203305,
        "mape": 0.1745206719849959,
        "explained_variance": 0.9504290771298227,
        "medae": 3957.8147892267043,
        "mape_floor": 0.1702072383063914
      },
      "smearing_factor": null,
      "overfit": {
        "gap_r2": 0.14151895255258218,
        "gap_explained_variance": 0.14148925568378423,
        "ratio_rmse": 2.4867247742517256,
        "delta_rmse": 6.228319296828289,
        "ratio_mse": 6.183800102877297,
        "delta_mse": 90.97641656401413,
        "ratio_mae": 2.4669466376700107,
        "delta_mae": 4.568599196388982,
        "ratio_mape": 2.523233364953517,
        "delta_mape": 0.07607008221568623,
        "ratio_medae": 2.456469911408181,
        "delta_medae": 3.4337258640783688
      }
    },
    "xgboost": {
      "best_params": {
        "n_estimators": 422,
        "max_depth": 5,
        "learning_rate": 0.0357814207052221,
        "subsample": 0.8320800918734917,
        "colsample_bytree": 0.7253716176250458,
        "min_child_weight": 6.721435447931674,
        "reg_alpha": 0.7975201463474745,
        "reg_lambda": 2.827869827581577,
        "gamma": 1.4487965697181315
      },
      "best_primary_value": -0.12293387595233961,
      "metrics_test": {
        "r2": 0.8314672463311108,
        "mse": 106.89509382750548,
        "rmse": 10.339008358034414,
        "mae": 7.503150329683481,
        "mape": 0.12006971028550575,
        "explained_variance": 0.8314893998891335,
        "medae": 5.349328052934823
      },
      "metrics_train": {
        "r2": 0.971413050800273,
        "mse": 16.957515207089486,
        "rmse": 4.117950364816153,
        "mae": 3.065725634031267,
        "mape": 0.049507711785448195,
        "explained_variance": 0.971413081149791,
        "medae": 2.2913499193265636
      },
      "metrics_test_original": {
        "r2": 0.7565753010674598,
        "mse": 1248625409.3761687,
        "rmse": 35335.89406504622,
        "mae": 20639.882411300656,
        "mape": 0.5644550829873116,
        "explained_variance": 0.7578828853818917,
        "medae": 11128.2578125,
        "mape_floor": 0.5623199256715113
      },
      "metrics_train_original": {
        "r2": 0.9538995052795829,
        "mse": 164266330.27473408,
        "rmse": 12816.642706837625,
        "mae": 7702.110999833724,
        "mape": 0.17263887066034939,
        "explained_variance": 0.9545480045481322,
        "medae": 4026.9254939837338,
        "mape_floor": 0.1685967461407603
      },
      "smearing_factor": null,
      "overfit": {
        "gap_r2": 0.13994580446916216,
        "gap_explained_variance": 0.13992368126065746,
        "ratio_rmse": 2.510717090320248,
        "delta_rmse": 6.2210579932182615,
        "ratio_mse": 6.303700307626172,
        "delta_mse": 89.93757862041599,
        "ratio_mae": 2.4474304700963194,
        "delta_mae": 4.437424695652214,
        "ratio_mape": 2.4252728707368343,
        "delta_mape": 0.07056199850005757,
        "ratio_medae": 2.3345749192716103,
        "delta_medae": 3.057978133608259
      }
    },
    "lightgbm": {
      "best_params": {
        "n_estimators": 628,
        "max_depth": 6,
        "learning_rate": 0.07710845770134261,
        "num_leaves": 40,
        "subsample": 0.7892234671714681,
        "colsample_bytree": 0.730994917162751,
        "reg_alpha": 7.937340225642655,
        "reg_lambda": 1.7118823199429163,
        "min_child_samples": 52,
        "min_split_gain": 0.42521998099229136
      },
      "best_primary_value": -0.12408808552547819,
      "metrics_test": {
        "r2": 0.8060301580238456,
        "mse": 123.02904928785351,
        "rmse": 11.091846072131252,
        "mae": 8.094481159707087,
        "mape": 0.13225509718928066,
        "explained_variance": 0.8063976351690609,
        "medae": 6.0218911194219515
      },
      "metrics_train": {
        "r2": 0.9878918081356829,
        "mse": 7.1824679938730736,
        "rmse": 2.6800126853940585,
        "mae": 1.9784043276760759,
        "mape": 0.032302488402975,
        "explained_variance": 0.9878918108285022,
        "medae": 1.498761152431463
      },
      "metrics_test_original": {
        "r2": 0.7559460642807551,
        "mse": 1251853023.6808767,
        "rmse": 35381.535066767196,
        "mae": 21562.472959211067,
        "mape": 0.6555122020229679,
        "explained_variance": 0.7559719910166732,
        "medae": 11111.620153131837,
        "mape_floor": 0.6536083296223978
      },
      "metrics_train_original": {
        "r2": 0.9789886779376215,
        "mse": 74868020.18805444,
        "rmse": 8652.630824671445,
        "mae": 4938.698801199717,
        "mape": 0.10923977797883379,
        "explained_variance": 0.9792256183840671,
        "medae": 2466.673587720081,
        "mape_floor": 0.10676332830105911
      },
      "smearing_factor": null,
      "overfit": {
        "gap_r2": 0.1818616501118373,
        "gap_explained_variance": 0.18149417565944126,
        "ratio_rmse": 4.138728944299886,
        "delta_rmse": 8.411833386737193,
        "ratio_mse": 17.129077274385644,
        "delta_mse": 115.84658129398044,
        "ratio_mae": 4.091419052451848,
        "delta_mae": 6.116076832031011,
        "ratio_mape": 4.094269628376376,
        "delta_mape": 0.09995260878630566,
        "ratio_medae": 4.017912467008199,
        "delta_medae": 4.5231299669904885
      }
    },
    "gbr": {
      "best_params": {
        "learning_rate": 0.06494153736862908,
        "n_estimators": 441,
        "max_depth": 6,
        "subsample": 0.865988746778748,
        "min_samples_leaf": 32,
        "max_features": null,
        "min_samples_split": 36,
        "min_impurity_decrease": 0.0017632668109117304
      },
      "best_primary_value": -0.12174982270483209,
      "metrics_test": {
        "r2": 0.8143364767442542,
        "mse": 117.76060917962573,
        "rmse": 10.851756041287775,
        "mae": 7.920651544133733,
        "mape": 0.12852378814928264,
        "explained_variance": 0.8143369667781417,
        "medae": 5.666070079416485
      },
      "metrics_train": {
        "r2": 0.9837131025999409,
        "mse": 9.661237665068693,
        "rmse": 3.1082531533111477,
        "mae": 2.294169466719824,
        "mape": 0.03747487810431581,
        "explained_variance": 0.9837131756051826,
        "medae": 1.6508999891497353
      },
      "metrics_test_original": {
        "r2": 0.7528437257007221,
        "mse": 1267766194.3513298,
        "rmse": 35605.70451980033,
        "mae": 21350.213267784617,
        "mape": 0.6321228748268362,
        "explained_variance": 0.7529100776111353,
        "medae": 11092.924345256532,
        "mape_floor": 0.6308148502224156
      },
      "metrics_train_original": {
        "r2": 0.9723863069370813,
        "mse": 98393738.55503614,
        "rmse": 9919.361801801371,
        "mae": 5686.585176956991,
        "mape": 0.1280519219983604,
        "explained_variance": 0.9726932789658462,
        "medae": 2971.236999662884,
        "mape_floor": 0.12500774758006372
      },
      "smearing_factor": null,
      "overfit": {
        "gap_r2": 0.1693766258556867,
        "gap_explained_variance": 0.16937620882704085,
        "ratio_rmse": 3.4912716262276318,
        "delta_rmse": 7.743502887976627,
        "ratio_mse": 12.188977568102134,
        "delta_mse": 108.09937151455703,
        "ratio_mae": 3.452513713147175,
        "delta_mae": 5.626482077413909,
        "ratio_mape": 3.4295985644441935,
        "delta_mape": 0.09104891004496683,
        "ratio_medae": 3.4321098289755803,
        "delta_medae": 4.01517009026675
      }
    },
    "hgbt": {
      "best_params": {
        "learning_rate": 0.11158390344595893,
        "max_depth": 8,
        "max_leaf_nodes": 52,
        "l2_regularization": 0.6439212028879981,
        "max_bins": 189,
        "min_samples_leaf": 27
      },
      "best_primary_value": -0.1193495433039337,
      "metrics_test": {
        "r2": 0.8243789008484007,
        "mse": 111.39101132105525,
        "rmse": 10.554194015700832,
        "mae": 7.743901619402916,
        "mape": 0.12337017657687403,
        "explained_variance": 0.8244171417077606,
        "medae": 5.65830097936086
      },
      "metrics_train": {
        "r2": 0.9734665983323312,
        "mse": 15.739369707894653,
        "rmse": 3.9672874496177677,
        "mae": 2.909530307358883,
        "mape": 0.04766725153880895,
        "explained_variance": 0.9734665984475404,
        "medae": 2.170662569015377
      },
      "metrics_test_original": {
        "r2": 0.7492502740119653,
        "mse": 1286198486.1673331,
        "rmse": 35863.609497195524,
        "mae": 21449.485294743678,
        "mape": 0.5864207569716996,
        "explained_variance": 0.7496469077962097,
        "medae": 11499.845930493073,
        "mape_floor": 0.5842186555364066
      },
      "metrics_train_original": {
        "r2": 0.9461207633055781,
        "mse": 191983720.42364925,
        "rmse": 13855.819009486564,
        "mae": 7359.039335392137,
        "mape": 0.16869506759697528,
        "explained_variance": 0.9467765161580322,
        "medae": 3830.837238043903,
        "mape_floor": 0.1638398672199484
      },
      "smearing_factor": null,
      "overfit": {
        "gap_r2": 0.14908769748393047,
        "gap_explained_variance": 0.14904945673977976,
        "ratio_rmse": 2.660304842977205,
        "delta_rmse": 6.586906566083064,
        "ratio_mse": 7.077221857567971,
        "delta_mse": 95.65164161316059,
        "ratio_mae": 2.6615641706212085,
        "delta_mae": 4.834371312044032,
        "ratio_mape": 2.588153765828737,
        "delta_mape": 0.07570292503806508,
        "ratio_medae": 2.606716059939013,
        "delta_medae": 3.4876384103454825
      }
    },
    "rf": {
      "best_params": {
        "n_estimators": 642,
        "max_depth": 27,
        "min_samples_split": 19,
        "min_samples_leaf": 5,
        "max_features": null,
        "bootstrap": true
      },
      "best_primary_value": -0.1299995557850055,
      "metrics_test": {
        "r2": 0.8393072561854485,
        "mse": 101.9224189572277,
        "rmse": 10.095663373806978,
        "mae": 7.520993640627308,
        "mape": 0.1186557800439498,
        "explained_variance": 0.8404012214427328,
        "medae": 5.6704936623512765
      },
      "metrics_train": {
        "r2": 0.9402961170530317,
        "mse": 35.41579396675081,
        "rmse": 5.951117035208669,
        "mae": 4.116220302799483,
        "mape": 0.06949931674650114,
        "explained_variance": 0.940296581252542,
        "medae": 2.978947550122257
      },
      "metrics_test_original": {
        "r2": 0.7109551846976154,
        "mse": 1482629751.2850869,
        "rmse": 38504.93151902866,
        "mae": 20895.09228430766,
        "mape": 0.5353950527057489,
        "explained_variance": 0.7186407107326649,
        "medae": 10000.439124785276,
        "mape_floor": 0.5318392239721831
      },
      "metrics_train_original": {
        "r2": 0.8622617540141135,
        "mse": 490792047.7599484,
        "rmse": 22153.82693260802,
        "mae": 10526.912746135433,
        "mape": 0.29860272144446826,
        "explained_variance": 0.8643573991355852,
        "medae": 5020.997839078889,
        "mape_floor": 0.27231965666105873
      },
      "smearing_factor": null,
      "overfit": {
        "gap_r2": 0.10098886086758319,
        "gap_explained_variance": 0.09989535980980924,
        "ratio_rmse": 1.696431663850312,
        "delta_rmse": 4.1445463385983095,
        "ratio_mse": 2.8778803901139387,
        "delta_mse": 66.5066249904769,
        "ratio_mae": 1.8271601341435018,
        "delta_mae": 3.4047733378278258,
        "ratio_mape": 1.7072941950889522,
        "delta_mape": 0.04915646329744866,
        "ratio_medae": 1.9035224913975266,
        "delta_medae": 2.6915461122290196
      }
    }
  },
  "ensembles": {
    "voting": {
      "type": "voting",
      "members": [
        "hgbt",
        "gbr",
        "xgboost",
        "lightgbm",
        "catboost"
      ],
      "metrics_train": {
        "r2": 0.9808666183325364,
        "mse": 11.34974593903707,
        "rmse": 3.3689383994126505,
        "mae": 2.4809282844557212,
        "mape": 0.040281384934361876,
        "explained_variance": 0.9808666368639488,
        "medae": 1.8346979094131513
      },
      "metrics_test": {
        "r2": 0.8275650289467914,
        "mse": 109.37014917640025,
        "rmse": 10.458018415378712,
        "mae": 7.611695266069309,
        "mape": 0.12143693983586316,
        "explained_variance": 0.8277412279038882,
        "medae": 5.359712316918589
      },
      "metrics_train_original": {
        "r2": 0.9658466307330658,
        "mse": 121696061.39850132,
        "rmse": 11031.593783243712,
        "mae": 6247.322193303972,
        "mape": 0.13927751603807792,
        "explained_variance": 0.9663304413868544,
        "medae": 3156.7436883329647
      },
      "metrics_test_original": {
        "r2": 0.7625990991141741,
        "mse": 1217726871.409147,
        "rmse": 34895.943480713446,
        "mae": 20962.134808210645,
        "mape": 0.5864837794373312,
        "explained_variance": 0.7628497132271455,
        "medae": 10793.830301699374,
        "mape_floor": 0.5863836447746169
      },
      "overfit": {
        "gap_r2": 0.153301589385745,
        "gap_explained_variance": 0.15312540896006066,
        "ratio_rmse": 3.104247444002535,
        "delta_rmse": 7.089080015966061,
        "ratio_mse": 9.636352193596272,
        "delta_mse": 98.02040323736318,
        "ratio_mae": 3.0680835531443833,
        "delta_mae": 5.130766981613588,
        "ratio_mape": 3.014716103573486,
        "delta_mape": 0.08115555490150128,
        "ratio_medae": 2.9213050766667923,
        "delta_medae": 3.525014407505438
      }
    },
    "stacking": {
      "type": "stacking",
      "members": [
        "hgbt",
        "gbr",
        "xgboost",
        "lightgbm",
        "catboost",
        "rf"
      ],
      "final_estimator": "ridge",
      "metrics_train": {
        "r2": 0.9837131354421921,
        "mse": 9.661218183347552,
        "rmse": 3.1082500194398057,
        "mae": 2.3245765244941388,
        "mape": 0.03729717537530465,
        "explained_variance": 0.983760979405826,
        "medae": 1.7495402097158035
      },
      "metrics_test": {
        "r2": 0.8260213846363808,
        "mse": 110.34923484257187,
        "rmse": 10.504724405836255,
        "mae": 7.648808677055409,
        "mape": 0.12146272732986023,
        "explained_variance": 0.8260214891621709,
        "medae": 5.575481063419154
      },
      "metrics_train_original": {
        "r2": 0.9741917154190105,
        "mse": 91960666.030067,
        "rmse": 9589.612402494013,
        "mae": 5818.808389749133,
        "mape": 0.1262698075530408,
        "explained_variance": 0.974808436905446,
        "medae": 3105.2957559152856
      },
      "metrics_test_original": {
        "r2": 0.7514290603312059,
        "mse": 1275022594.9297764,
        "rmse": 35707.45853361418,
        "mae": 21040.1888047289,
        "mape": 0.5809926371596259,
        "explained_variance": 0.7525673927645053,
        "medae": 11346.40067988944,
        "mape_floor": 0.5805355688411249
      },
      "overfit": {
        "gap_r2": 0.15769175080581133,
        "gap_explained_variance": 0.15773949024365508,
        "ratio_rmse": 3.3796265873520377,
        "delta_rmse": 7.396474386396449,
        "ratio_mse": 11.421875869936782,
        "delta_mse": 100.68801665922432,
        "ratio_mae": 3.290409498874166,
        "delta_mae": 5.324232152561271,
        "ratio_mape": 3.256620001585525,
        "delta_mape": 0.08416555195455558,
        "ratio_medae": 3.1868264772976205,
        "delta_medae": 3.825940853703351
      }
    }
  },
  "baselines": {
    "catboost": {
      "metrics_test": {
        "r2": 0.806854003742389,
        "mse": 122.50650952352909,
        "rmse": 11.068265876980417,
        "mae": 7.921921348067705,
        "mape": 0.118954903511443,
        "explained_variance": 0.8178290200486474,
        "medae": 6.004558202696558
      }
    },
    "xgboost": {
      "metrics_test": {
        "r2": 0.8128350579599931,
        "mse": 118.71291250538331,
        "rmse": 10.89554553500573,
        "mae": 8.170450703046205,
        "mape": 0.1307869583476937,
        "explained_variance": 0.8128371289917466,
        "medae": 6.40265515614297
      }
    },
    "lightgbm": {
      "metrics_test": {
        "r2": 0.8287033865794282,
        "mse": 108.64812426847621,
        "rmse": 10.423441095361753,
        "mae": 7.56718007865247,
        "mape": 0.12186869912881318,
        "explained_variance": 0.8288679701996043,
        "medae": 5.287466529325382
      }
    },
    "gbr": {
      "metrics_test": {
        "r2": 0.8121675555294083,
        "mse": 119.13628857557815,
        "rmse": 10.914957103698491,
        "mae": 8.159601339560824,
        "mape": 0.13309123806515452,
        "explained_variance": 0.814395345430552,
        "medae": 6.0976748001518075
      }
    },
    "hgbt": {
      "metrics_test": {
        "r2": 0.8273919836961325,
        "mse": 109.47990640698532,
        "rmse": 10.46326461516602,
        "mae": 7.63954650153585,
        "mape": 0.12286471555562227,
        "explained_variance": 0.8275097266886492,
        "medae": 5.784694879731106
      }
    },
    "rf": {
      "metrics_test": {
        "r2": 0.8431283057461553,
        "mse": 99.49884583912767,
        "rmse": 9.974910818605231,
        "mae": 7.396486853957165,
        "mape": 0.11805794239007183,
        "explained_variance": 0.8432896061799898,
        "medae": 5.464089072161606
      }
    }
  },
  "df_validation_results_path": "models\\validation_results.csv"
}